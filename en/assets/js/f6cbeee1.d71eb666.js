"use strict";(self.webpackChunkks_6088_ts_github_io=self.webpackChunkks_6088_ts_github_io||[]).push([[3836],{4641:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"fork-azure-openai-playground","metadata":{"permalink":"/en/blog/fork-azure-openai-playground","source":"@site/blog/2023-05-01-fork-azure-openai-playground/index.md","title":"Azure OpenAI Service \u3092\u5229\u7528\u3057\u305f ChatGPT \u304a\u8a66\u3057\u74b0\u5883\u306e\u69cb\u7bc9","description":"Azure OpenAI Service \u3092\u5229\u7528\u3057\u305f ChatGPT \u306e\u8a66\u7528\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\u3002","date":"2023-05-01T00:00:00.000Z","formattedDate":"May 1, 2023","tags":[{"label":"azure","permalink":"/en/blog/tags/azure"},{"label":"azure-ad","permalink":"/en/blog/tags/azure-ad"},{"label":"azure-openai-service","permalink":"/en/blog/tags/azure-openai-service"},{"label":"app-service","permalink":"/en/blog/tags/app-service"}],"readingTime":11.785,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"fork-azure-openai-playground","title":"Azure OpenAI Service \u3092\u5229\u7528\u3057\u305f ChatGPT \u304a\u8a66\u3057\u74b0\u5883\u306e\u69cb\u7bc9","authors":"ks6088ts","tags":["azure","azure-ad","azure-openai-service","app-service"]},"nextItem":{"title":"Building a ChatGPT trial environment using Azure OpenAI Service","permalink":"/en/blog/fork-azure-openai-playground-en"}},"content":"Azure OpenAI Service \u3092\u5229\u7528\u3057\u305f ChatGPT \u306e\u8a66\u7528\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\u3002  \\nChatGPT \u3092\u4f53\u9a13\u3059\u308b\u74b0\u5883\u3068\u3057\u3066\u306f\u3001\u65e2\u306b OpenAI \u3067\u3082 Azure OpenAI Service \u3067\u3082\u4f7f\u3044\u52dd\u624b\u306e\u3044\u3044\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u304c\u3042\u308a\u3001\u30d6\u30e9\u30a6\u30b6\u3068\u30a2\u30ab\u30a6\u30f3\u30c8\u3055\u3048\u3042\u308c\u3070\u3059\u3050\u306b\u8a66\u305b\u307e\u3059\u3002\\n\\n- OpenAI: [ChatGPT \u306e\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea](https://chat.openai.com/), [Playground](https://platform.openai.com/playground)\\n- Azure: [Azure OpenAI Studio](https://oai.azure.com/portal)\\n\\n\u500b\u4eba\u7684\u306a\u304a\u8a66\u3057\u3068\u3044\u3046\u89b3\u70b9\u3067\u3059\u3068\u3053\u308c\u3089\u306e\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u3092\u5229\u7528\u3059\u308b\u3060\u3051\u3067\u5341\u5206\u3067\u3059\u304c\u3001  \\n\u696d\u52d9\u3078\u306e\u9069\u7528\u3092\u8996\u91ce\u306b\u5165\u308c\u3066\u3001\u5e83\u304f\u7d44\u7e54\u5185\u3067\u8a66\u7528\u3059\u308b\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u8003\u3048\u308b\u3068\u69d8\u3005\u306a\u8ab2\u984c\u304c\u51fa\u3066\u304d\u307e\u3059\u3002  \\n\\n\u4f8b\u3048\u3070\u3001\u30b7\u30f3\u30d7\u30eb\u306b API Token \u3092\u6255\u3044\u51fa\u3057\u3066\u305d\u306e\u307e\u307e\u4f7f\u3046\u65b9\u6cd5\u3067\u3059\u3068\u3001\u4e07\u304c\u4e00 API Token \u304c\u6f0f\u6d29\u3057\u305f\u5834\u5408\u306b\u4e0d\u6b63\u5229\u7528\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u7d44\u7e54\u5185\u306e\u30e1\u30f3\u30d0\u30fc\u306b\u9650\u5b9a\u3057\u305f\u3044\u5834\u5408\u3001\u4f55\u3089\u304b\u306e\u65b9\u6cd5\u3067\u8a8d\u8a3c\u3059\u308b\u5fc5\u8981\u304c\u3067\u3066\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u8ab2\u984c\u306b\u5bfe\u3057\u3066\u30bc\u30ed\u304b\u3089\u53d6\u308a\u7d44\u3080\u3068\u3001\u672c\u6765\u306e\u76ee\u7684\u3067\u3042\u308b ChatGPT \u306e\u8a66\u7528\u306b\u5272\u304f\u6642\u9593\u304c\u6e1b\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002  \\n\\n\u305d\u3053\u3067\u3001\u672c\u8a18\u4e8b\u3067\u306f\u696d\u52d9\u4e0a\u306e PoC \u5229\u7528\u3092\u898b\u636e\u3048\u3001Azure OpenAI Service \u3092\u4f7f\u3063\u305f OpenAI API \u306e\u8a66\u7528\u74b0\u5883\u306e\u69cb\u7bc9\u65b9\u6cd5\u3092\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u4ed8\u304d\u3067\u7d39\u4ecb\u3057\u307e\u3059\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u6982\u8981\\n\\n\\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3067\u69cb\u7bc9\u3057\u307e\u3059\u3002\\n\\n![architecture](./architecture.png)\\n\\n## \u30cf\u30f3\u30ba\u30aa\u30f3\\n\\n\u4f5c\u696d\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\\n\\n---\\n1. Azure OpenAI Service \u306e\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\\n2. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\\n3. App Service \u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\\n4. App Service \u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b Web \u30a2\u30d7\u30ea\u306b\u8a8d\u8a3c\u3092\u8ffd\u52a0\u3059\u308b\\n5. \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\\n6. App Service \u306e VNET \u7d71\u5408\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\\n---\\n\\n\u4ee5\u4e0b\u3067\u306f\u3001\u3053\u308c\u3089\u624b\u9806\u306b\u3064\u3044\u3066\u9806\u306b\u898b\u3066\u3044\u304d\u307e\u3059\u3002\\n\u4f5c\u696d\u304c\u5b8c\u4e86\u3057\u305f\u3089 App Service \u306e URL \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001ChatGPT \u3092\u8a66\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\\n\\n### 1. Azure OpenAI Service \u306e\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\\n\\n[Azure OpenAI \u3092\u4f7f\u7528\u3057\u3066\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3001\u30e2\u30c7\u30eb\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b](https://learn.microsoft.com/ja-jp/azure/cognitive-services/openai/how-to/create-resource?pivots=cli)\u3092\u53c2\u8003\u306b\u3001Azure Portal \u304b\u3089 Azure OpenAI Service \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\\n\u3053\u3053\u3067\u6255\u3044\u51fa\u3057\u305f Azure Open AI \u306e\u30ea\u30bd\u30fc\u30b9\u540d\u3001\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u30e2\u30c7\u30eb\u306e\u540d\u524d\u3001API \u30ad\u30fc\u306f\u5f8c\u3067\u5229\u7528\u3057\u307e\u3059\u3002\\n\\nAzure Portal \u306b\u3042\u308b Azure OpenAI Studio \u3067\u306f\u3001\u7c21\u5358\u306b\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u30e2\u30c7\u30eb\u3092\u4f7f\u3063\u305f\u52d5\u4f5c\u78ba\u8a8d\u304c\u3067\u304d\u307e\u3059\u3002\\n\\n### 2. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\\n\\nOpenAI \u306e\u30c1\u30e3\u30c3\u30c8\u306e\u30d5\u30a9\u30fc\u30e0\u3084 Playground \u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a UI \u306a\u3069\u3001\u5fc5\u8981\u306a UI \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u305d\u308c\u306a\u308a\u306b\u591a\u304f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u3092\u30bc\u30ed\u304b\u3089\u66f8\u304f\u3068\u7d50\u69cb\u306a\u5de5\u6570\u306b\u306a\u308a\u307e\u3059\u3002  \\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u306e\u5b9f\u88c5\u306f\u76ee\u7684\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u3072\u3068\u307e\u305a\u6700\u77ed\u3067\u76ee\u7684\u304c\u9054\u6210\u3055\u308c\u308b\u3053\u3068\u3092\u512a\u5148\u3059\u308b\u305f\u3081\u826f\u3055\u305d\u3046\u306a OSS \u3092\u63a2\u3057\u307e\u3059\u3002  \\nGitHub \u3067 Star \u6570\u3067\u30bd\u30fc\u30c8\u3057\u3066\u3001\u3044\u304f\u3064\u304b OSS \u3092\u6f01\u3063\u3066\u307f\u305f\u3068\u3053\u308d\u3001Azure OpenAI Service \u3092\u5229\u7528\u3057\u305f\u305d\u306e\u3082\u306e\u30ba\u30d0\u30ea\u306a\u30a2\u30d7\u30ea\u306f\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001[Nashex/gpt4-playground](https://github.com/Nashex/gpt4-playground) \u3068\u3044\u3046 OpenAI \u306e Playground \u3092\u30af\u30ed\u30fc\u30f3\u3057\u305f OSS \u304c\u898b\u3064\u304b\u308a\u307e\u3057\u305f\u3002  \\ndemo \u30b5\u30a4\u30c8 ([GPT-4 Playground](https://www.gpt4-playground.com/)) \u3082\u3042\u3063\u3066\u3001OpenAI \u306e API \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u70b9\u3092\u9664\u304d\u3001\u4eca\u56de\u306e\u76ee\u7684\u306b\u307b\u307c\u5408\u81f4\u3057\u3066\u305d\u3046\u3067\u3059\u3002  \\n\\n\u3053\u306e OSS \u3092 fork \u3057\u3066\u3001OpenAI API \u3092\u30b3\u30fc\u30eb\u3057\u3066\u3044\u308b\u7b87\u6240\u3092 Azure OpenAI Service \u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3059\u308c\u3070\u30b5\u30af\u30c3\u3068\u52d5\u304d\u305d\u3046\u3067\u3059\u3002  \\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u304c\u305d\u308c\u306b\u8a72\u5f53\u3057\u307e\u3059\u3002\\n\\n```typescript title=\\"gpt4-playground/src/utils/OpenAI/OpenAI.ts\\"\\n  const response = await fetch(\\"https://api.openai.com/v1/chat/completions\\", {\\n    headers: {\\n      Authorization: `Bearer ${token}`,\\n      \\"Content-Type\\": \\"application/json\\",\\n    },\\n    method: \\"POST\\",\\n    body: JSON.stringify(payload),\\n  });\\n```\\n\\nfetch \u5148 url \u3068\u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0\u306e `Authorization` \u3092 `api-key` \u306b\u66f8\u304d\u63db\u3048\u308b\u3068 Azure OpenAI Service \u3067\u540c\u69d8\u306e\u6a5f\u80fd\u304c\u52d5\u304d\u307e\u3057\u305f\u3002  \\n\u6700\u7d42\u7684\u306b Docker \u30a4\u30e1\u30fc\u30b8\u306b\u3057\u3066\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u4e88\u5b9a\u3060\u3063\u305f\u306e\u3067\u3001API KEY \u306e\u3088\u3046\u306a\u79d8\u533f\u60c5\u5831\u3084\u30ea\u30bd\u30fc\u30b9\u540d\u306a\u3069\u306f\u74b0\u5883\u5909\u6570\u3067\u5916\u90e8\u304b\u3089\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002Next.js \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u3001[Next.js \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://nextjs.org/docs/basic-features/environment-variables)\u3092\u53c2\u7167\u3057\u307e\u3057\u305f\u3002\\n\\n\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u52d5\u4f5c\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3089\u3001Dockerfile \u3092\u66f8\u3044\u3066\u30b3\u30f3\u30c6\u30ca\u5316\u3057\u3066 Docker Hub \u306b push \u3057\u3066\u304a\u304d\u307e\u3059\u3002\\n\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u969b\u306f\u3001Next.js \u306e production build \u3092\u5b9f\u884c\u3057\u3066\u3001\u305d\u306e\u6210\u679c\u7269\u3092\u30a4\u30e1\u30fc\u30b8\u306b\u914d\u7f6e\u3057\u307e\u3059\u3002\\n\\nfork \u3057\u3066\u6539\u5909\u3057\u305f\u30a2\u30d7\u30ea\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f [ks6088ts-labs/azure-openai-playground](https://github.com/ks6088ts-labs/azure-openai-playground) \u306b\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002  \\n\u30d1\u30c3\u3068\u52d5\u304b\u3059\u76ee\u7684\u3067\u5834\u5f53\u305f\u308a\u7684\u306b\u6539\u5909\u3057\u3066\u3044\u308b\u7b87\u6240\u3082\u591a\u3005\u3042\u308b\u306e\u3067\u3001\u53c2\u8003\u7a0b\u5ea6\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \\nDocker \u30a4\u30e1\u30fc\u30b8\u306f[ks6088ts/azure-openai-playground](https://hub.docker.com/r/ks6088ts/azure-openai-playground)\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002  \\n\u624b\u5143\u3067\u52d5\u304b\u3057\u305f\u3044\u3060\u3051\u3067\u3042\u308c\u3070\u3001Azure OpenAI Service \u306e\u30ea\u30bd\u30fc\u30b9\u3092\u6255\u3044\u51fa\u3057\u305f\u3042\u3068\u3001\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u30b5\u30fc\u30d3\u30b9\u306e\u52d5\u4f5c\u78ba\u8a8d\u304c\u3067\u304d\u307e\u3059\u3002\\n\\n```shell\\n# run the following command and access to localhost:3000 with your browser\\ndocker run --platform=linux/amd64 --rm \\\\\\n    -p \\"3000:3000\\" \\\\\\n    --env \\"AZURE_OPENAI_API_KEY=<YOUR API KEY>\\" \\\\\\n    --env \\"AZURE_OPENAI_NAME=<YOUR AOAI NAME>\\" \\\\\\n    --env \\"AZURE_OPENAI_DEPLOYMENT_NAME=<YOUR DEPLOYMENT NAME>\\" \\\\\\n    --env \\"AZURE_OPENAI_API_VERSION=$(AZURE_OPENAI_API_VERSION)\\" \\\\\\n    ks6088ts/azure-openai-playground:0.0.5\\n```\\n\\n### 3. App Service \u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\\n\\n2 \u3067\u5b9f\u88c5\u3057\u305f\u30a2\u30d7\u30ea\u3092\u3001Azure App Service \u3067\u516c\u958b\u3057\u307e\u3059\u3002\\n\u3053\u3053\u3067\u306f Docker Hub \u306b\u3042\u308b Docker \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092 App Service \u306b pull \u3057\u3066\u516c\u958b\u3059\u308b\u30b7\u30ca\u30ea\u30aa\u3068\u306a\u308a\u307e\u3059\u3002\\n\\nAzure CLI \u3067\u30b3\u30de\u30f3\u30c9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\\n\\n```shell\\n# \u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3059\u308b\\naz group create \\\\\\n    --name $RESOURCE_GROUP_NAME \\\\\\n    --location japaneast\\n\\n# App Service Plan \u3092\u4f5c\u6210\u3059\u308b\\naz appservice plan create \\\\\\n    --name $APP_SERVICE_PLAN_NAME \\\\\\n    --resource-group $RESOURCE_GROUP_NAME \\\\\\n    --location japaneast \\\\\\n    --sku B1 \\\\\\n    --is-linux\\n\\n# App Service \u3092\u4f5c\u6210\u3059\u308b\\naz webapp create \\\\\\n    --name $APP_SERVICE_NAME \\\\\\n    --plan $APP_SERVICE_PLAN_NAME \\\\\\n    --resource-group $RESOURCE_GROUP_NAME \\\\\\n    --deployment-container-image-name $CONTAINER_IMAGE_NAME\\n\\n# App Service \u306e\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\\naz webapp config appsettings set \\\\\\n    --name $APP_SERVICE_NAME \\\\\\n    --resource-group $RESOURCE_GROUP_NAME \\\\\\n    --settings \\\\\\n        WEBSITES_PORT=3000 \\\\\\n        AZURE_OPENAI_API_KEY=$AZURE_OPENAI_API_KEY \\\\\\n        AZURE_OPENAI_NAME=$AZURE_OPENAI_NAME \\\\\\n        AZURE_OPENAI_DEPLOYMENT_NAME=$AZURE_OPENAI_DEPLOYMENT_NAME \\\\\\n        AZURE_OPENAI_API_VERSION=$AZURE_OPENAI_API_VERSION\\n\\n# \u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u306b App Service \u3092\u518d\u8d77\u52d5\u3059\u308b\\naz webapp restart \\\\\\n    --name $APP_SERVICE_NAME \\\\\\n    --resource-group $RESOURCE_GROUP_NAME\\n```\\n\\n\u3053\u308c\u3067\u3001App Service \u306e URL \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u5148\u307b\u3069\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304b\u3057\u305f\u3068\u304d\u3068\u540c\u3058\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b\u306f\u305a\u3067\u3059\u3002\\n\\n### 4. App Service \u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b Web \u30a2\u30d7\u30ea\u306b\u8a8d\u8a3c\u3092\u8ffd\u52a0\u3059\u308b\\n\\nWeb \u30a2\u30d7\u30ea\u306b\u8a8d\u8a3c\u6a5f\u80fd\u3092\u7d44\u307f\u8fbc\u3080\u306e\u306f\u7d50\u69cb\u624b\u9593\u3067\u3059\u3002App Service \u3067\u306f\u7d44\u307f\u8fbc\u307f\u306e\u8a8d\u8a3c(=EasyAuth)\u3068\u627f\u8a8d\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001Web \u30a2\u30d7\u30ea\u3067\u30b3\u30fc\u30c9\u3092\u307e\u3063\u305f\u304f\u8a18\u8ff0\u305b\u305a\u306b\u30e6\u30fc\u30b6\u30fc\u3092\u30b5\u30a4\u30f3\u30a4\u30f3\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  \\n\u624b\u9806\u306f[\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb: Azure App Service \u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b Web \u30a2\u30d7\u30ea\u306b\u30a2\u30d7\u30ea\u306e\u8a8d\u8a3c\u3092\u8ffd\u52a0\u3059\u308b](https://learn.microsoft.com/ja-jp/azure/app-service/scenario-secure-app-authentication-app-service)\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002  \\nAzure Portal \u304b\u3089 `AppService > Authentication > Add identity provider` \u3068\u8fbf\u3063\u3066\u6240\u671b\u306e\u8a8d\u8a3c\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u8a8d\u8a3c\u30d7\u30ed\u30d0\u30a4\u30c0\u3082\u4e3b\u8981\u306a\u3082\u306e\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u304a\u308a\u7c21\u5358\u306b\u8a8d\u8a3c\u6a5f\u80fd\u3092\u8ffd\u52a0\u3067\u304d\u307e\u3059\u3002\\n\\n### 5. \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\\n\\nAzure Virtual Network (VNet)\u7d4c\u7531\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u306b\u9650\u5b9a\u3057\u3066 Azure OpenAI Service \u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\\n\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7d4c\u7531\u3067\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u9650\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u4e07\u304c\u4e00 API Key \u304c\u6f0f\u308c\u305f\u3068\u3057\u3066\u3082\u5916\u90e8\u304b\u3089\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u4e0d\u6b63\u5229\u7528\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  \\n\u624b\u9806\u306f[Azure OpenAI\u306b\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\uff08Private Endpoint\uff09\u3092\u8a2d\u5b9a\u3057\u3066\u6771\u65e5\u672c\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u307f\u304b\u3089\u4f7f\u3046](https://blog.jbs.co.jp/entry/2023/04/07/173940)\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\u8a18\u4e8b\u306b\u5f93\u3063\u3066\u3001Azure Portal \u304b\u3089\u4ee5\u4e0b\u306e\u64cd\u4f5c\u3092\u5b9f\u65bd\u3059\u308b\u3068\u3001\u78ba\u304b\u306b\u671f\u5f85\u901a\u308a Azure OpenAI Playground \u304b\u3089 API \u304c\u547c\u3073\u51fa\u305b\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\\n\\n- `Azure OpenAI > Networking > Firewalls and virtual networks > Disabled` \u306b\u8a2d\u5b9a\u3057\u3001Private Endpoint \u3092\u6709\u52b9\u5316\u3059\u308b\\n- `Azure OpenAI > Networking > Private endpoint connections > + Private endpoint` \u304b\u3089 Private Endpoint \u3092\u4f5c\u6210\u3059\u308b\\n\\n\u306a\u304a\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5468\u308a\u306e\u8a2d\u5b9a\u306f\u5373\u6642\u53cd\u6620\u3067\u306f\u7121\u3044\u306e\u3067\u5c11\u3057\u5f85\u3063\u3066\u304b\u3089\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6025\u3044\u3067\u78ba\u8a8d\u3057\u305f\u3089\u53cd\u6620\u3055\u308c\u3066\u3044\u306a\u304f\u3066\u30cf\u30de\u308a\u307e\u3057\u305f\u3002  \\n\u6c17\u306b\u306a\u3063\u3066 API \u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u4e2d\u8eab\u3082\u78ba\u8a8d\u3057\u305f\u304b\u3063\u305f\u306e\u3067 curl \u3067\u76f4\u63a5 REST API \u3092\u53e9\u3044\u3066\u307f\u307e\u3057\u305f\u3002\\n\\n```shell\\ncurl \\"https://${AOAI_NAME}.openai.azure.com/openai/deployments/${MODEL_NAME}/completions?api-version=2022-12-01\\" \\\\\\n  -H \'api-key: your-api-key\' \\\\\\n  -H \'content-type: application/json\' \\\\\\n  --data-raw \'{\\"prompt\\":\\"Write a product launch email for new AI-powered headphones that are priced at $79.99 and available at Best Buy, Target and Amazon.com. The target audience is tech-savvy music lovers and the tone is friendly and exciting.\\\\n\\\\n1. What should be the subject line of the email?  \\\\n2. What should be the body of the email?\\",\\"temperature\\":1,\\"top_p\\":1,\\"frequency_penalty\\":0,\\"presence_penalty\\":0,\\"max_tokens\\":350,\\"stop\\":null,\\"stream\\":true}\' \\\\\\n  --compressed -vvvv\\n```\\n\\n\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u4e2d\u306b\u306f\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3082\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001Private Endpoint \u304c\u78ba\u304b\u306b\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u305d\u3046\u3067\u3059\u3002\\n\\n- `policy-id: ThrowExceptionDueToTrafficDenied`\\n- `{\\"error\\":{\\"code\\":\\"AccessDenied\\",\\"message\\": \\"Public access is disabled. Please configure private endpoint.\\"}}`\\n\\n### 6. App Service \u306e VNET \u7d71\u5408\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\\n\\nApp Service \u306e Outbound \u901a\u4fe1\u8a2d\u5b9a\u3067 VNet \u7d71\u5408\u3092\u6709\u52b9\u5316\u3057\u3001App Service \u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092 VNet \u7d4c\u7531\u3067 Azure OpenAI Service \u306b\u9001\u4fe1\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\\n[\u3010Azure\u3011App Service\u306eVNet\u7d71\u5408\u3068\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ea\u30f3\u30af\u3092\u5229\u7528\u3057\u305f\u901a\u4fe1\u9589\u57df\u5316](https://techblog.ap-com.co.jp/entry/2021/03/12/150117)\u3092\u53c2\u8003\u306b\u3001`AppService > Networking > Outbound Traffic > VNet integration > + Add VNet` \u304b\u3089 VNet \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\\n\\n\\n## \u307e\u3068\u3081\\n\\n\u3053\u3053\u307e\u3067\u306e\u624b\u9806\u3092\u5b9f\u884c\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\\n\\n- \u672a\u8a8d\u8a3c\u30e6\u30fc\u30b6\u30fc\u306f\u6240\u5b9a\u306e\u8a8d\u8a3c\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u8a8d\u8a3c\u753b\u9762\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u308b\\n- \u8a8d\u8a3c\u306b\u6210\u529f\u3059\u308b\u3068\u3001Web \u30a2\u30d7\u30ea\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\\n- \u30c1\u30e3\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u9001\u4fe1\u3057\u305f\u6587\u7ae0\u306b\u5bfe\u3057\u3066 Azure OpenAI Service \u304c\u5fdc\u7b54\u3059\u308b\\n- Azure OpenAI Playground \u304b\u3089 API \u3092\u53e9\u304f\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\\n\\n\u672c\u8a18\u4e8b\u3067\u306f\u3001Azure OpenAI Service \u3092 App Service \u304b\u3089\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\\nApp Service \u306e\u7d44\u307f\u8fbc\u307f\u8a8d\u8a3c\u3084\u3001Vnet \u7d71\u5408\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u624b\u9593\u3092\u639b\u3051\u308b\u3053\u3068\u306a\u304f Azure OpenAI Service \u3092\u5b89\u5168\u306b\u5229\u7528\u3059\u308b\u74b0\u5883\u3092\u69cb\u7bc9\u3067\u304d\u307e\u3057\u305f\u3002"},{"id":"fork-azure-openai-playground-en","metadata":{"permalink":"/en/blog/fork-azure-openai-playground-en","source":"@site/blog/2023-05-01-fork-azure-openai-playground.en/index.md","title":"Building a ChatGPT trial environment using Azure OpenAI Service","description":"* This article is translated from Azure OpenAI Service \u3092\u5229\u7528\u3057\u305f ChatGPT \u304a\u8a66\u3057\u74b0\u5883\u306e\u69cb\u7bc9","date":"2023-05-01T00:00:00.000Z","formattedDate":"May 1, 2023","tags":[{"label":"azure","permalink":"/en/blog/tags/azure"},{"label":"azure-ad","permalink":"/en/blog/tags/azure-ad"},{"label":"azure-openai-service","permalink":"/en/blog/tags/azure-openai-service"},{"label":"app-service","permalink":"/en/blog/tags/app-service"}],"readingTime":7.42,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"fork-azure-openai-playground-en","title":"Building a ChatGPT trial environment using Azure OpenAI Service","authors":"ks6088ts","tags":["azure","azure-ad","azure-openai-service","app-service"]},"prevItem":{"title":"Azure OpenAI Service \u3092\u5229\u7528\u3057\u305f ChatGPT \u304a\u8a66\u3057\u74b0\u5883\u306e\u69cb\u7bc9","permalink":"/en/blog/fork-azure-openai-playground"},"nextItem":{"title":"PowerShell \u958b\u767a\u5165\u9580","permalink":"/en/blog/powershell-get-started"}},"content":"* This article is translated from [Azure OpenAI Service \u3092\u5229\u7528\u3057\u305f ChatGPT \u304a\u8a66\u3057\u74b0\u5883\u306e\u69cb\u7bc9](/blog/fork-azure-openai-playground)\\n\\n---\\n\\nWe have created a trial environment for ChatGPT using Azure OpenAI Service.  \\nBoth OpenAI and Azure OpenAI Service already have easy-to-use web apps for experiencing ChatGPT, and all you need is a browser and an account to try it out.\\n\\n- OpenAI: [ChatGPT Web App](https://chat.openai.com/), [Playground](https://platform.openai.com/playground)\\n- Azure: [Azure OpenAI Studio](https://oai.azure.com/portal)\\n\\nFrom the perspective of a personal trial, just using these web applications is sufficient.  \\nHowever, when considering the use case of trial use within a wide range of organizations with a view to business application, various issues arise.\\n\\nFor example, if you simply obtain an API Token and use it in a direct way, you cannot prevent unauthorized use when the API Token is leaked. Also, if you want to limit users to members of your organization, you will need to authenticate them in some way. If you tackle these issues from scratch, you will have less time to spend on the trial of ChatGPT, which is the original purpose of this project.\\n\\nTherefore, this article introduces how to build a trial environment for OpenAI API using Azure OpenAI Service with sample code, with a view to using OpenAI API for business PoC.\\n\\n\x3c!--truncate--\x3e\\n\\n## Overview\\n\\nThe following diagram shows the architecture of the trial environment we will build.\\n\\n![architecture](../2023-05-01-fork-azure-openai-playground/architecture.png)\\n\\n## Hands on\\n\\nThe following steps are required to build the trial environment.\\n\\n---\\n1. Create Azure OpenAI Service resource\\n2. Develop a Chat app\\n3. Deploy to App Service\\n4. Add authentication to the web app running on App Service\\n5. Add private endpoint settings\\n6. Add VNET integration settings for App Service\\n---\\n\\nThe following sections will walk you through these steps.\\nWhen you are done, go to the App Service URL and try ChatGPT.\\n\\n### 1. Create Azure OpenAI Service resource\\n\\nSee [Create a resource and deploy a model using Azure OpenAI\\n](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/how-to/create-resource?pivots=cli) to create Azure OpenAI Service resource.\\n\\nThe `Azure OpenAI resource name`, `deployed model name`, and `API key` will be used later.\\n\\n### 2. Develop a Chat app\\n\\nThere are many necessary UI components such as chat forms for OpenAI and parameter setting UI for Playground, and writing a front-end app from scratch will take a lot of time.  \\nSince the implementation of a front-end app is not our goal, we will look for a good OSS to achieve our goal in the shortest time possible.\\n\\nI sorted by Star count on GitHub and scoured some OSS, and could not find the exact app that uses the Azure OpenAI Service, but I did find [Nashex/gpt4-playground](https://github.com/Nashex/gpt4-playground), an OSS clone of OpenAI\'s Playground.\\n\\nThere is a demo site ([GPT-4 Playground](https://www.gpt4-playground.com/)), and it seems to be almost in line with the purpose of this project, except that it uses OpenAI\'s API.  \\n\\nIf we fork this OSS and modify the code that calls OpenAI API to use Azure OpenAI Service, it should work easily.  \\nThe following code is applicable.\\n\\n```typescript title=\\"gpt4-playground/src/utils/OpenAI/OpenAI.ts\\"\\n  const response = await fetch(\\"https://api.openai.com/v1/chat/completions\\", {\\n    headers: {\\n      Authorization: `Bearer ${token}`,\\n      \\"Content-Type\\": \\"application/json\\",\\n    },\\n    method: \\"POST\\",\\n    body: JSON.stringify(payload),\\n  });\\n```\\n\\nBy rewriting the `Authorization` in the fetch destination url and request header to `api-key`, the same functionality worked with Azure OpenAI Service.  \\n\\nSince I planned to deploy a Docker image in the final stage, I used environment variables to set confidential information such as `API KEY` and resource names from the outside. [Next.js / Environment Variables\\n](https://nextjs.org/docs/basic-features/environment-variables).\\n\\nAfter confirming that it works in the local environment, write a Dockerfile to containerize it and push it to Docker Hub.\\n\\nWhen creating the image, production build for the Next.js app should be applied and place the artifact into the image.\\n\\nThe source code of the forked and modified application is available at [ks6088ts-labs/azure-openai-playground](https://github.com/ks6088ts-labs/azure-openai-playground).  \\n\\nPlease note that many parts of the source code have been modified in an ad-hoc manner for the purpose of quick implementation, so please use it only as a reference.  \\n\\nDocker images are available at [ks6088ts/azure-openai-playground](https://hub.docker.com/r/ks6088ts/azure-openai-playground).  \\n\\nIf you just want to run the service in local environment, you can check the service operation with the following command\\n\\n```shell\\n# run the following command and access to localhost:3000 with your browser\\ndocker run --platform=linux/amd64 --rm \\\\\\n    -p \\"3000:3000\\" \\\\\\n    --env \\"AZURE_OPENAI_API_KEY=<YOUR API KEY>\\" \\\\\\n    --env \\"AZURE_OPENAI_NAME=<YOUR AOAI NAME>\\" \\\\\\n    --env \\"AZURE_OPENAI_DEPLOYMENT_NAME=<YOUR DEPLOYMENT NAME>\\" \\\\\\n    --env \\"AZURE_OPENAI_API_VERSION=$(AZURE_OPENAI_API_VERSION)\\" \\\\\\n    ks6088ts/azure-openai-playground:0.0.5\\n```\\n\\n### 3. Deploy to App Service\\n\\nThe app implemented in step 2 will be published on the Azure App Service.\\nIn this scenario, the Docker container image in the Docker Hub will be pulled and published to the App Service.\\n\\nExecute the following commands in the Azure CLI.\\n\\n```shell\\n# create resource group\\naz group create \\\\\\n    --name $RESOURCE_GROUP_NAME \\\\\\n    --location japaneast\\n\\n# create App Service Plan\\naz appservice plan create \\\\\\n    --name $APP_SERVICE_PLAN_NAME \\\\\\n    --resource-group $RESOURCE_GROUP_NAME \\\\\\n    --location japaneast \\\\\\n    --sku B1 \\\\\\n    --is-linux\\n\\n# create App Service\\naz webapp create \\\\\\n    --name $APP_SERVICE_NAME \\\\\\n    --plan $APP_SERVICE_PLAN_NAME \\\\\\n    --resource-group $RESOURCE_GROUP_NAME \\\\\\n    --deployment-container-image-name $CONTAINER_IMAGE_NAME\\n\\n# set environment variables for App Service\\naz webapp config appsettings set \\\\\\n    --name $APP_SERVICE_NAME \\\\\\n    --resource-group $RESOURCE_GROUP_NAME \\\\\\n    --settings \\\\\\n        WEBSITES_PORT=3000 \\\\\\n        AZURE_OPENAI_API_KEY=$AZURE_OPENAI_API_KEY \\\\\\n        AZURE_OPENAI_NAME=$AZURE_OPENAI_NAME \\\\\\n        AZURE_OPENAI_DEPLOYMENT_NAME=$AZURE_OPENAI_DEPLOYMENT_NAME \\\\\\n        AZURE_OPENAI_API_VERSION=$AZURE_OPENAI_API_VERSION\\n\\n# restart App Service to reflect the environment variables\\naz webapp restart \\\\\\n    --name $APP_SERVICE_NAME \\\\\\n    --resource-group $RESOURCE_GROUP_NAME\\n```\\n\\nNow, when you access the App Service URL, it should work the same way it did when you ran it locally earlier.\\n\\n### 4. Add authentication to the web app running on App Service\\n\\nSince the App Service supports built-in authentication (=EasyAuth) and authorization, you can have users sign in without writing any code in your web app.  \\nFor instructions, see [Tutorial: Add app authentication to your web app running on Azure App Service](https://learn.microsoft.com/en-us/azure/app-service/scenario-secure-app-authentication-app-service).  \\nSimply follow `AppService > Authentication > Add identity provider` from the Azure Portal to add the desired authentication provider. The major authentication providers are supported, so it is easy to add authentication functionality.\\n\\n### 5. Add private endpoint settings\\n\\nConfigure Azure OpenAI Service to be available only for private network connections via Azure Virtual Network (VNet).\\nBy limiting requests to those made via the private network, you can prevent unauthorized use of resources from outside, even in the unlikely event that the API Key is leaked.  \\nFor instructions, please refer to [Azure OpenAI\u306b\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\uff08Private Endpoint\uff09\u3092\u8a2d\u5b9a\u3057\u3066\u6771\u65e5\u672c\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u307f\u304b\u3089\u4f7f\u3046](https://blog.jbs.co.jp/entry/2023/04/07/173940) (*This article is in Japanese, unfortunately).\\nFollowing the article, I performed the following operation from Azure Portal and confirmed that the API cannot be called from Azure OpenAI Playground, as expected.\\n\\n- Check `Azure OpenAI > Networking > Firewalls and virtual networks > Disabled` and then activate Private Endpoint\\n- Create Private Endpoint from `Azure OpenAI > Networking > Private endpoint connections > + Private endpoint`\\n\\nNote that the network settings are not immediately reflected, so you need to wait a bit before checking. When I hurriedly checked, it was not reflected and I got stuck...  \\nTo confirm content of the API response, you can simply use `curl` to call the REST API.\\n\\n```shell\\ncurl \\"https://${AOAI_NAME}.openai.azure.com/openai/deployments/${MODEL_NAME}/completions?api-version=2022-12-01\\" \\\\\\n  -H \'api-key: your-api-key\' \\\\\\n  -H \'content-type: application/json\' \\\\\\n  --data-raw \'{\\"prompt\\":\\"Write a product launch email for new AI-powered headphones that are priced at $79.99 and available at Best Buy, Target and Amazon.com. The target audience is tech-savvy music lovers and the tone is friendly and exciting.\\\\n\\\\n1. What should be the subject line of the email?  \\\\n2. What should be the body of the email?\\",\\"temperature\\":1,\\"top_p\\":1,\\"frequency_penalty\\":0,\\"presence_penalty\\":0,\\"max_tokens\\":350,\\"stop\\":null,\\"stream\\":true}\' \\\\\\n  --compressed -vvvv\\n```\\n\\nIt seems that Private Endpoint is indeed enabled, since the following parameters were also found in the response.\\n\\n- `policy-id: ThrowExceptionDueToTrafficDenied`\\n- `{\\"error\\":{\\"code\\":\\"AccessDenied\\",\\"message\\": \\"Public access is disabled. Please configure private endpoint.\\"}}`\\n\\n### 6. Add VNet integration settings for App Service\\n\\nEnable VNet integration in the Outbound communication settings of the App Service and configure it to send requests from the App Service to the Azure OpenAI Service via VNet.\\nRefer to [\u3010Azure\u3011App Service\u306eVNet\u7d71\u5408\u3068\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ea\u30f3\u30af\u3092\u5229\u7528\u3057\u305f\u901a\u4fe1\u9589\u57df\u5316](https://techblog.ap-com.co.jp/entry/2021/03/12/150117)(*This article is in Japanese, unfortunately) and set `AppService > Networking > Outbound Traffic > VNet integration > + Add VNet` to add VNet.\\n\\n## Summary\\n\\nAfter following the steps described in the article, the following behavior has been confirmed\\n\\n- Unauthenticated users are redirected to the authentication screen of the given authentication provider\\n- Upon successful authentication, users can access to the web app\\n- Azure OpenAI Service responds to the text sent from the chat form\\n- API requests failed from Azure OpenAI Playground, which is outside the VNet\\n\\nThis article summarizes the steps to use Azure OpenAI Service from the App Service.\\nBy using the App Service\'s built-in authentication and Vnet integration, we were able to build a secure environment to use Azure OpenAI Service without any hassle."},{"id":"powershell-get-started","metadata":{"permalink":"/en/blog/powershell-get-started","source":"@site/blog/2023-03-24-powershell-get-started.md","title":"PowerShell \u958b\u767a\u5165\u9580","description":"PowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u958b\u767a\u5165\u9580\u306b\u4fbf\u5229\u3060\u3068\u601d\u3063\u305f\u30c4\u30fc\u30eb\u3084\u60c5\u5831\u3092\u307e\u3068\u3081\u307e\u3059\u3002","date":"2023-03-24T00:00:00.000Z","formattedDate":"March 24, 2023","tags":[{"label":"powershell","permalink":"/en/blog/tags/powershell"}],"readingTime":2.115,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"powershell-get-started","title":"PowerShell \u958b\u767a\u5165\u9580","authors":"ks6088ts","tags":["powershell"]},"prevItem":{"title":"Building a ChatGPT trial environment using Azure OpenAI Service","permalink":"/en/blog/fork-azure-openai-playground-en"},"nextItem":{"title":"Azure IoT Edge \u3092\u7528\u3044\u305f\u30cf\u30f3\u30ba\u30aa\u30f3","permalink":"/en/blog/handson-iot-edge"}},"content":"PowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u958b\u767a\u5165\u9580\u306b\u4fbf\u5229\u3060\u3068\u601d\u3063\u305f\u30c4\u30fc\u30eb\u3084\u60c5\u5831\u3092\u307e\u3068\u3081\u307e\u3059\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u30a8\u30c7\u30a3\u30bf\\n\\n- [VS Code extension / PowerShell](https://marketplace.visualstudio.com/items?itemName=ms-vscode.PowerShell): Syntax highlighting, intellisense, LSP \u30b5\u30dd\u30fc\u30c8\u306a\u3069\u304c\u3042\u308a\u4fbf\u5229\\n\\n## \u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\\n\\n- [Pester / Quick Start](https://pester.dev/docs/quick-start/): \u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\\n\\n## Docker\\n\\n- [mcr.microsoft.com/powershell](https://mcr.microsoft.com/en-us/product/powershell/about): PowerShell \u306e Docker \u30a4\u30e1\u30fc\u30b8\u3002\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5ec3\u6b62\u306b\u4f34\u3046\u79fb\u884c\u4f5c\u696d\u3084\u30c6\u30b9\u30c8\u306a\u3069\u3001\u9694\u96e2\u3055\u308c\u305f\u74b0\u5883\u3067\u306e\u5b9f\u884c\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u4fbf\u5229\\n\\n## \u30e9\u30a4\u30d6\u30e9\u30ea\\n\\n- [microsoftgraph/msgraph-sdk-powershell](https://github.com/microsoftgraph/msgraph-sdk-powershell)\\n  - Microsoft Graph API \u3092 PowerShell \u304b\u3089\u53e9\u304f\u3068\u304d\u306b\u4f7f\u3046\\n  - \u53c2\u8003\u30ea\u30f3\u30af\\n    - [Authentication module cmdlets in Microsoft Graph PowerShell](https://learn.microsoft.com/ja-jp/powershell/microsoftgraph/authentication-commands?view=graph-powershell-1.0)\\n    - [Microsoft Graph REST API v1.0 \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8 \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](https://learn.microsoft.com/ja-jp/graph/api/overview?view=graph-rest-1.0)\\n\\n## \u30b9\u30cb\u30da\u30c3\u30c8\\n\\n\u3057\u3087\u3063\u3061\u3085\u3046\u6587\u6cd5\u3092\u5fd8\u308c\u3066\u540c\u3058\u3053\u3068\u3092\u7e70\u308a\u8fd4\u3059\u306e\u3067\u3001\u30b9\u30cb\u30da\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002\\n\\n### \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e00\u62ec\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\\n\\n```powershell title=\\"install-modules.ps1\\"\\n#!/usr/bin/env pwsh\\n\\nWrite-Host \\"Running \\"$MyInvocation.MyCommand.Name\\" ...\\"\\n\\nSet-PSRepository -Name \'PSGallery\' -InstallationPolicy Trusted\\n\\n$modules = @(\\n    \\"Microsoft.Graph\\"\\n    \\"MicrosoftTeams\\"\\n    \\"Pester\\"\\n)\\n\\nforeach ($module in $modules) {\\n    Write-Host \\"Installing $module\\"\\n    Install-Module -Name $module -Scope CurrentUser\\n}\\n```\\n\\n### PowerShell module \u306e\u4f5c\u6210\u3068\u5229\u7528\\n\\n#### PowerShell \u30e2\u30b8\u30e5\u30fc\u30eb\\n\\n```powershell title=\\"mymodule.psm1\\"\\n$global:MyModuleVersion = \\"v0.0.1\\"\\n\\nfunction Get-MyName {\\n    return \\"Hello-World\\"\\n}\\n\\n# Export variables\\nExport-ModuleMember -Variable MyModuleVersion\\n\\n# Export functions\\nExport-ModuleMember -Function Get-MyName\\n```\\n\\n#### PowerShell \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5229\u7528\\n\\n```powershell title=\\"client.ps1\\"\\nusing module \\"./mymodule.psm1\\"\\n\\nparam (\\n    [parameter(mandatory=$true)][string]$Hello,\\n    [parameter(mandatory=$true)][string]$World)\\n\\n$name = Get-MyName\\n\\nWrite-Host $name, $MyModuleVersion\\nWrite-Host Args: $Hello, $World\\n```\\n\\n#### \u5b9f\u884c\\n\\n```powershell\\n./client.ps1 -Hello Hello -World World\\n>>>\\nHello-World v0.0.1\\nArgs: Hello World\\n```\\n\\n### \u30c6\u30b9\u30c8\\n\\n#### \u30c6\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\\n```powershell title=\\"mymodule.test.ps1\\"\\nusing module \\"./mymodule.psm1\\"\\n\\nDescribe \\"Smoke test\\" {\\n    Context \\"Nominal case\\" {\\n        It \\"Check global variables\\" {\\n            # version variable settings\\n            $MyModuleVersion | Should Be \\"v0.0.1\\"\\n        }\\n        It \\"Connect-Helper\\" {\\n            Get-MyName | Should Be \\"Hello-World\\"\\n        }\\n    }\\n}\\n```\\n\\n#### \u30c6\u30b9\u30c8\u306e\u5b9f\u884c\\n\\n```powershell\\nInvoke-Pester ./mymodule.test.ps1\\n>>>\\nDescribing Smoke test\\n   Context Nominal case\\n    [+] Check global variables 495ms\\n    [+] Connect-Helper 72ms\\nTests completed in 568ms\\nPassed: 2 Failed: 0 Skipped: 0 Pending: 0 Inconclusive: 0\\n```\\n\\n### HTTP \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u767a\u884c\\n\\n#### Microsoft Graph API \u306e\u547c\u3073\u51fa\u3057\u4f8b\\n\\n```powershell title=\\"httpRequest.ps1\\"\\nparam (\\n    [parameter(mandatory=$true)][string]$TenantId,\\n    [parameter(mandatory=$true)][string]$ClientId,\\n    [parameter(mandatory=$true)][string]$ClientSecret,\\n    [parameter(mandatory=$true)][string]$Csv)\\n\\n# -- Token \u3092\u53d6\u5f97\u3059\u308b --\\n$token = Invoke-RestMethod -Method Post -Uri \\"https://login.microsoftonline.com/$tenantId/oauth2/v2.0/token\\" -Body @{client_id=\\"$clientId\\";scope=\\"https://graph.microsoft.com/.default\\";client_secret=\\"$clientSecret\\";grant_type=\\"client_credentials\\"} -ContentType \'application/x-www-form-urlencoded\'\\n$accessToken = $token.access_token\\n```\\n\\n#### \u5b9f\u884c\u4f8b\\n\\n```powershell\\n./httpRequest.ps1 -TenantId 789 -ClientId 566 -ClientSecret 444 \\n```"},{"id":"handson-iot-edge","metadata":{"permalink":"/en/blog/handson-iot-edge","source":"@site/blog/2023-03-22-handson-iot-edge.md","title":"Azure IoT Edge \u3092\u7528\u3044\u305f\u30cf\u30f3\u30ba\u30aa\u30f3","description":"Azure IoT Edge \u3092\u4f7f\u3063\u305f\u30cf\u30f3\u30ba\u30aa\u30f3\u3092\u3057\u307e\u3057\u305f\u3002","date":"2023-03-22T00:00:00.000Z","formattedDate":"March 22, 2023","tags":[{"label":"azure","permalink":"/en/blog/tags/azure"},{"label":"iot-edge","permalink":"/en/blog/tags/iot-edge"}],"readingTime":4.21,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"handson-iot-edge","title":"Azure IoT Edge \u3092\u7528\u3044\u305f\u30cf\u30f3\u30ba\u30aa\u30f3","authors":"ks6088ts","tags":["azure","iot-edge"]},"prevItem":{"title":"PowerShell \u958b\u767a\u5165\u9580","permalink":"/en/blog/powershell-get-started"},"nextItem":{"title":"textlint \u3092\u6709\u52b9\u5316\u3059\u308b","permalink":"/en/blog/how-to-apply-textlint"}},"content":"Azure IoT Edge \u3092\u4f7f\u3063\u305f\u30cf\u30f3\u30ba\u30aa\u30f3\u3092\u3057\u307e\u3057\u305f\u3002\\n\u57fa\u790e\u7684\u306a\u691c\u8a3c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u306e\u30ea\u30f3\u30af\u3092\u307e\u3068\u3081\u307e\u3059\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n# \u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9\\n\\n## Prerequisites\\n\\n- Docker\\n- Visual Studio Code\\n- Azure\\n- Azure CLI\\n\\n## Azure \u30ea\u30bd\u30fc\u30b9\u69cb\u7bc9\\n\\n### Azure CLI\\n\\n\u30b5\u30fc\u30d3\u30b9\u5074\u306e\u30ea\u30bd\u30fc\u30b9\u3068\u3057\u3066\u3001Azure IoT Hub, Azure Container Registry \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\\n\\n```shell\\n# Parameters\\nLOCATION=\\"japaneast\\"\\nRESOURCE_GROUP_NAME=\\"handson_iotedge\\"\\nIOTHUB_NAME=\\"iothub0322\\"\\nCONTAINER_REGISTRY_NAME=\\"acr0322\\"\\nDEVICE_ID=\\"myEdgeDevice\\"\\n\\n# create resource group\\naz group create \\\\\\n    --name $RESOURCE_GROUP_NAME \\\\\\n    --location $LOCATION\\n\\n# create Azure IoT Hub\\naz iot hub create \\\\\\n    --resource-group $RESOURCE_GROUP_NAME \\\\\\n    --name $IOTHUB_NAME \\\\\\n    --sku F1 \\\\\\n    --partition-count 2\\n\\n# create device identity in IoT Hub\\naz iot hub device-identity create \\\\\\n    --device-id $DEVICE_ID \\\\\\n    --edge-enabled \\\\\\n    --hub-name $IOTHUB_NAME\\n\\n# create Azure Container Registry\\n# ref. https://learn.microsoft.com/ja-jp/azure/container-registry/container-registry-get-started-azure-cli#create-a-container-registry\\naz acr create \\\\\\n    --resource-group $RESOURCE_GROUP_NAME \\\\\\n    --name $CONTAINER_REGISTRY_NAME \\\\\\n    --sku Basic \\\\\\n    --admin-enabled true\\n\\n# copy connection string for creating VM later.\\nCONNECTION_STRING=$(az iot hub device-identity connection-string show --device-id $DEVICE_ID --hub-name $IOTHUB_NAME -o tsv)\\n```\\n\\n\u30a8\u30c3\u30b8\u5074\u306e\u30ea\u30bd\u30fc\u30b9\u3068\u3057\u3066\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002  \\nAzure IoT Edge \u306b\u3088\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u3067\u306f\u3001\u30a8\u30c3\u30b8\u5074\u306b\u30b3\u30f3\u30c6\u30ca\u30e9\u30f3\u30bf\u30a4\u30e0\u3084\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002  \\n[\u30af\u30a4\u30c3\u30af \u30b9\u30bf\u30fc\u30c8:\u521d\u3081\u3066\u306e IoT Edge \u30e2\u30b8\u30e5\u30fc\u30eb\u3092 Linux \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b](https://learn.microsoft.com/ja-jp/azure/iot-edge/quickstart-linux?view=iotedge-1.4#deploy-the-iot-edge-device)\u3092\u53c2\u8003\u306b ARM \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5229\u7528\u3057\u3066\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002\\n\\n```shell\\n# Parameters\\nLOCATION=\\"japaneast\\"\\nRESOURCE_GROUP_NAME=\\"handson_iotedge_device\\"\\n\\n# create resource group\\naz group create \\\\\\n    --name $RESOURCE_GROUP_NAME \\\\\\n    --location $LOCATION\\n\\n# create VM instance via Azure Portal\\n#   1. Go to `Deploy a custom template` at Azure Portal\\n#   2. Go to `Build your own template in the editor` to paste template at `https://raw.githubusercontent.com/Azure/iotedge-vm-deploy/1.4/edgeDeploy.json`\\n#   3. Fill in the parameters and create VM\\n```\\n\\n\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b `iotedge` \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u72b6\u614b\u306e\u78ba\u8a8d\u304c\u3067\u304d\u307e\u3059\u3002\\n\\n```shell\\n# login to VM via SSH with the password specified above\\nssh adminUser@\\"$VM_NAME.$LOCATION\\".cloudapp.azure.com\\n\\nsudo iotedge -h\\nsudo iotedge system status\\nsudo iotedge system logs\\nsudo iotedge list\\nsudo iotedge logs <module> -f\\n```\\n\\n### Terraform\\n\\nWIP\\n\\n# \u958b\u767a\\n\\n## IoT Edge Module \u958b\u767a\\n\\nIoT Edge Module \u3068\u3057\u3066\u30a8\u30c3\u30b8\u306b\u914d\u4fe1\u3059\u308b\u305f\u3081\u306e Docker \u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Visual Studio Code \u62e1\u5f35\u6a5f\u80fd\u3092\u5165\u308c\u3066 GUI \u64cd\u4f5c\u3067\u7c21\u5358\u306b\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u307e\u3059\u3002  \\n\u64cd\u4f5c\u624b\u9806\u306f [\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb: Linux \u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u4f7f\u7528\u3057\u3066 IoT Edge \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u958b\u767a\u3059\u308b](https://learn.microsoft.com/ja-jp/azure/iot-edge/tutorial-develop-for-linux?view=iotedge-1.4) \u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\\n\u5404\u8a00\u8a9e\u3054\u3068\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306f\u3001\u4f8b\u3048\u3070 Python \u306e\u5834\u5408 [\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb: Linux \u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u4f7f\u7528\u3057\u3066 Python IoT Edge \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u958b\u767a\u3057\u3066\u30c7\u30d7\u30ed\u30a4\u3059\u308b](https://learn.microsoft.com/ja-jp/azure/iot-edge/tutorial-python-module?view=iotedge-1.4) \u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\\n\\n### Azure Container Registry \u306e\u63a5\u7d9a\u8a2d\u5b9a\\n\\nAzure Container Registry \u306b Docker image \u3092 push \u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\\n\\n```shell\\n# create .env corresponding to your Azure Container Registry\\ncat .env\\nCONTAINER_REGISTRY_ADDRESS=\\"YOUR_CONTAINER_REGISTRY.azurecr.io\\"\\nCONTAINER_REGISTRY_USERNAME=\\"YOUR_USERNAME\\"\\nCONTAINER_REGISTRY_PASSWORD=\\"YOUR_PASSWORD\\"\\n```\\n\\n\u8a2d\u5b9a\u60c5\u5831\u306f\u3001Azure Portal \u306e `Azure Container Registry > Settings > Access Keys` \u304b\u3089\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002  \\nACR \u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\\n\\n```shell\\naz acr login --name $CONTAINER_REGISTRY_NAME\\n```\\n\\n### IoT Edge Module \u306e Build & Push\\n\\n1. [Azure IoT Hub \u306e VSCode \u62e1\u5f35](https://marketplace.visualstudio.com/items?itemName=vsciot-vscode.azure-iot-toolkit)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\\n1. \u30b3\u30de\u30f3\u30c9\u30d1\u30ec\u30c3\u30c8\u3092\u958b\u304d\u3001`Azure IoT Hub : Select IoT Hub` \u304b\u3089\u5bfe\u8c61\u3068\u306a\u308b IoT Hub \u3092\u9078\u629e\\n1. VSCode \u306e Explorer \u306b\u3066 `deployment.template.json` \u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001`Build and Push IoT Edge Solution` \u3092\u9078\u629e\\n1. Docker Image \u306e Build \u3068 ACR \u3078\u306e Push \u304c\u5b9f\u884c\u3055\u308c\u3001ACR \u306e Repository \u306b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u304c\u8ffd\u52a0\u3055\u308c\u308b\\n\\n### IoT Module \u306e\u30c7\u30d7\u30ed\u30a4\\n\\n1. VSCode \u306e Explorer \u306e `AZURE IOT HUB` \u30bf\u30d6\u306e\u5bfe\u8c61\u30c7\u30d0\u30a4\u30b9\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057 `Create Deployment for Single Device` \u3092\u9078\u629e\\n1. `config/deployment.json` \u3092\u9078\u629e\u3057\u3066 IoT Edge Module \u3092\u8ee2\u9001\\n\\nAzure Portal \u306e `Azure IoT Hub > IoT Edge` \u304b\u3089\u9069\u5207\u306b IoT Edge Module \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002  \\n\u307e\u305f\u306f\u3001\u8ee2\u9001\u5148\u306e Edge \u304b\u3089\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067 IoT Edge Module \u306e\u8d77\u52d5\u72b6\u614b\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\\n\\n```shell\\nsudo iotedge list\\n```\\n\\n# References\\n\\n- [Hands on workshop / Azure IoT Edge #1 - Azure IoT Edge \u306b\u3064\u3044\u3066](https://www.youtube.com/watch?v=UsxycuFpC8c&list=PLSmINpYYRBsO4Es9FxVfKg6n4e3QdFbcs)"},{"id":"how-to-apply-textlint","metadata":{"permalink":"/en/blog/how-to-apply-textlint","source":"@site/blog/2023-03-22-how-to-apply-textlint.md","title":"textlint \u3092\u6709\u52b9\u5316\u3059\u308b","description":"textlint \u3092\u6709\u52b9\u5316\u3057\u3066 blog \u57f7\u7b46\u6642\u306b\u6821\u6b63\u51e6\u7406\u3092\u81ea\u52d5\u3067\u304b\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002","date":"2023-03-22T00:00:00.000Z","formattedDate":"March 22, 2023","tags":[{"label":"textlint","permalink":"/en/blog/tags/textlint"}],"readingTime":1.745,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"how-to-apply-textlint","title":"textlint \u3092\u6709\u52b9\u5316\u3059\u308b","authors":"ks6088ts","tags":["textlint"]},"prevItem":{"title":"Azure IoT Edge \u3092\u7528\u3044\u305f\u30cf\u30f3\u30ba\u30aa\u30f3","permalink":"/en/blog/handson-iot-edge"},"nextItem":{"title":"Azure AD \u8a8d\u53ef\u60c5\u5831\u3092\u7528\u3044\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u304b\u3089 Azure Functions \u3092\u547c\u3073\u51fa\u3059","permalink":"/en/blog/azure-ad-function-api"}},"content":"textlint \u3092\u6709\u52b9\u5316\u3057\u3066 blog \u57f7\u7b46\u6642\u306b\u6821\u6b63\u51e6\u7406\u3092\u81ea\u52d5\u3067\u304b\u3051\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n# textlint \u306b\u3088\u308b\u6821\u6b63\u74b0\u5883\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\\n\\n[textlint](https://textlint.github.io/) \u3092\u4f7f\u3063\u305f\u6821\u6b63\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\\nNode.js \u3068 yarn \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\u3068\u3057\u307e\u3059\u3002\\n\\n## textlint \u3068\u30eb\u30fc\u30eb\u8a2d\u5b9a\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\\n\\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f9d\u5b58\u95a2\u4fc2\u306b textlint \u672c\u4f53\u3068\u30eb\u30fc\u30eb\u8a2d\u5b9a\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002  \\n\u30c6\u30b9\u30c8\u30b8\u30e7\u30d6\u3067\u306e\u307f\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308b\u305f\u3081\u3001`devDependencies` \u3068\u3057\u3066\u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\\n\\n```shell title=\\"install dependencies\\"\\nyarn add --dev \\\\\\n    textlint \\\\\\n    textlint-rule-preset-ja-spacing \\\\\\n    textlint-rule-preset-ja-technical-writing \\\\\\n    textlint-rule-prh \\\\\\n    textlint-rule-spellcheck-tech-word\\n```\\n\\n## textlint \u306e\u30eb\u30fc\u30eb\u8a2d\u5b9a\\n\\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f `.textlintrc` \u30d5\u30a1\u30a4\u30eb\u3067\u8a18\u8ff0\u3057\u307e\u3059\u3002\\n\u300c\u3067\u3042\u308b\u30fb\u3067\u3059\u307e\u3059\u8abf\u306e\u4e0d\u4e00\u81f4\u300d\u300c\u5358\u8a9e\u306e\u8868\u8a18\u63fa\u308c\u300d\u300c\u53e5\u8aad\u70b9\u306e\u4f7f\u3044\u3059\u304e\u300d\u306a\u3069\u3001\u69d8\u3005\u306a\u30eb\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u3066\u6587\u7ae0\u3092\u30c1\u30a7\u30c3\u30af\u3067\u304d\u307e\u3059\u3002  \\n\u4e00\u5ea6\u8a2d\u5b9a\u3092\u69cb\u7bc9\u3057\u3001CI \u30d7\u30ed\u30bb\u30b9\u306a\u3069\u306b\u7d44\u307f\u8fbc\u3093\u3067\u304a\u3051\u3070\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u54c1\u8cea\u3092\u4fdd\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\\n\\n```json title=\\"textlint settings: .textlintrc\\"\\n{\\n  \\"filters\\": {},\\n  \\"rules\\": {\\n    \\"preset-ja-spacing\\": {\\n      \\"ja-space-between-half-and-full-width\\": {\\n        \\"space\\": \\"always\\"\\n      }\\n    },\\n    \\"preset-ja-technical-writing\\": true,\\n    \\"spellcheck-tech-word\\": true,\\n    \\"textlint-rule-no-dropping-the-ra\\": true,\\n    \\"textlint-rule-ja-no-space-between-full-width\\": true,\\n    \\"prh\\": {\\n      \\"rulePaths\\": [\\n        \\"./prh.yaml\\"\\n      ]\\n    }\\n  }\\n}\\n```\\n\\nprh (=**P**roof**R**eading **H**elper)\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u8868\u8a18\u3086\u308c\u3092\u691c\u51fa\u3059\u308b\u305f\u3081\u306e\u30c4\u30fc\u30eb\u3067\u3059\u3002\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304f\u3053\u3068\u3067\u8868\u8a18\u3092 GitHub \u306b\u7d71\u4e00\u3067\u304d\u307e\u3059\u3002\\n\\n```yaml title=\\"prh settings: prh.yaml\\"\\nrules:\\n  - expected: GitHub\\n    patterns:\\n      - github\\n      - Github\\n```"},{"id":"azure-ad-function-api","metadata":{"permalink":"/en/blog/azure-ad-function-api","source":"@site/blog/2023-03-17-azure-ad-function-api.md","title":"Azure AD \u8a8d\u53ef\u60c5\u5831\u3092\u7528\u3044\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u304b\u3089 Azure Functions \u3092\u547c\u3073\u51fa\u3059","description":"Azure AD \u8a8d\u53ef\u60c5\u5831\u3092\u7528\u3044\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u304b\u3089 Azure Functions \u3092\u547c\u3073\u51fa\u3059\u30cf\u30f3\u30ba\u30aa\u30f3\u3092\u3057\u307e\u3057\u305f\u3002","date":"2023-03-17T00:00:00.000Z","formattedDate":"March 17, 2023","tags":[{"label":"azure","permalink":"/en/blog/tags/azure"},{"label":"azure-ad","permalink":"/en/blog/tags/azure-ad"},{"label":"msal","permalink":"/en/blog/tags/msal"}],"readingTime":5.605,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"azure-ad-function-api","title":"Azure AD \u8a8d\u53ef\u60c5\u5831\u3092\u7528\u3044\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u304b\u3089 Azure Functions \u3092\u547c\u3073\u51fa\u3059","authors":"ks6088ts","tags":["azure","azure-ad","msal"]},"prevItem":{"title":"textlint \u3092\u6709\u52b9\u5316\u3059\u308b","permalink":"/en/blog/how-to-apply-textlint"},"nextItem":{"title":"Azure Container Apps \u30cf\u30f3\u30ba\u30aa\u30f3","permalink":"/en/blog/container-apps-handson"}},"content":"Azure AD \u8a8d\u53ef\u60c5\u5831\u3092\u7528\u3044\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u304b\u3089 Azure Functions \u3092\u547c\u3073\u51fa\u3059\u30cf\u30f3\u30ba\u30aa\u30f3\u3092\u3057\u307e\u3057\u305f\u3002\\n\u53c2\u8003\u306b\u306a\u3063\u305f\u60c5\u5831\u306e\u30ea\u30f3\u30af\u3092\u307e\u3068\u3081\u307e\u3059\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n# Azure AD \u8a8d\u53ef\u60c5\u5831\u3092\u7528\u3044\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u304b\u3089 Azure Functions \u3092\u547c\u3073\u51fa\u3059\\n\\nAzure App Service \u4e0a\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f React \u88fd\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u304b\u3089\u3001Azure Functions \u3092\u547c\u3073\u51fa\u3059\u30b5\u30f3\u30d7\u30eb\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\\n\\n\u672c\u30a2\u30d7\u30ea\u306f\u4ee5\u4e0b\u306e\u8981\u6c42\u4e8b\u9805\u3092\u6e80\u305f\u3057\u307e\u3059\u3002\\n\\n- \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u306f Azure AD \u8a8d\u8a3c\u3092\u901a\u3059\u3053\u3068\u3092\u5fc5\u9808\u3068\u3059\u308b\\n- Azure Functions \u306f Azure AD \u8a8d\u8a3c\u3092\u5fc5\u9808\u3068\u3059\u308b\\n- \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u306e Azure AD \u8a8d\u8a3c\u3092\u901a\u3057\u305f\u30e6\u30fc\u30b6\u306f\u3001**\u8ffd\u52a0\u306e\u8a8d\u8a3c\u3092\u901a\u3059\u3053\u3068\u306a\u304f**\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u7528\u3044\u3066 Azure Functions \u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\\n- \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u3001Azure Functions \u53cc\u65b9\u306f Azure App Service \u306e\u7d44\u307f\u8fbc\u307f\u8a8d\u8a3c\u3092\u5229\u7528\u3057\u3001\u8a8d\u8a3c\u51e6\u7406\u306e\u4e00\u5207\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9\u306b\u7d44\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u306a\u3044\\n\\n## \u30cf\u30f3\u30ba\u30aa\u30f3\\n\\n### React \u30a2\u30d7\u30ea\u306e\u4f5c\u6210\\n\\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3001`create-react-app` \u3092\u7528\u3044\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\\n\\n- [TypeScript \u3092\u5bfe\u8c61\u3068\u3059\u308b npm \u3092\u4f7f\u7528\u3057\u305f React \u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3059\u308b](https://learn.microsoft.com/ja-jp/azure/developer/javascript/how-to/with-web-app/static-web-app-with-swa-cli/create-react-app#create-react-app-with-npm-targeting-typescript)\\n\\n- [Create React App / Adding TypeScript](https://create-react-app.dev/docs/adding-typescript/#installation)\\n\\n```shell\\n# create SPA app in spa directory\\nnpx create-react-app react-ts --template typescript\\n\\n# install dependencies\\ncd react-ts && npm install\\n\\n# build an app\\nnpm run build\\n\\n# run an app\\nnpm start\\n```\\n\\n### React \u30a2\u30d7\u30ea\u306e\u30c7\u30d7\u30ed\u30a4\\n\\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3001App Service \u306b React \u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002\\n\\n- [Azure \u3067\u9759\u7684 HTML Web \u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3059\u308b](https://learn.microsoft.com/ja-jp/azure/app-service/quickstart-html#create-a-web-app)\\n\\n```shell\\n# \u30a2\u30d7\u30ea\u306e\u30d3\u30eb\u30c9\\nnpm run build\\n\\n# build \u5b9f\u884c\u3067\u751f\u6210\u3055\u308c\u305f\u9759\u7684\u30b5\u30a4\u30c8\u304c\u683c\u7d0d\u3055\u308c\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\\ncd build\\n\\n# Azure CLI \u3067 Azure App Service \u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\\nrandomIdentifier=\\"1128\\"\\n\\nname=\\"react$randomIdentifier\\"\\nresourceGroup=\\"$name-rg\\"\\nlocation=\\"eastus\\"\\n\\n# create resource group\\naz group create --name $resourceGroup --location $location\\n\\n# deploy web app\\naz webapp up \\\\\\n    --resource-group $resourceGroup \\\\\\n    --plan \\"$name-plan\\" \\\\\\n    --name $name \\\\\\n    --location $location \\\\\\n    --sku FREE \\\\\\n    --html\\n```\\n\\n### \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u304b\u3089 Azure AD \u8a8d\u8a3c\u3092\u5fc5\u8981\u3068\u3059\u308b API \u3092\u547c\u3073\u51fa\u3059\\n\\n[\u30a2\u30d7\u30ea \u30b3\u30fc\u30c9\u3067\u306e\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97](https://learn.microsoft.com/ja-jp/azure/app-service/configure-authentication-oauth-tokens#retrieve-tokens-in-app-code) \u306b\u8a18\u8f09\u304c\u3042\u308b\u3088\u3046\u306b\u3001AAD \u8a8d\u8a3c\u6e08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u3001`/.auth/me` \u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3053\u3068\u3067\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\\n\\nAPI \u30b3\u30fc\u30eb\u306e\u305f\u3081\u306b\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u5b9f\u88c5\u306f\u3001\u4ee5\u4e0b\u306e 2 \u70b9\u3067\u3059\u3002\\n\\n- `/.auth/me` \u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u3066 `access_token` \u3092\u53d6\u5f97\\n- \u53d6\u5f97\u3057\u305f `access_token` \u3092\u30d8\u30c3\u30c0\u306b\u8ffd\u52a0\u3057\u3066 Azure Functions \u3092\u547c\u3073\u51fa\u3059\\n\\n\u5b9f\u8a3c\u5b9f\u9a13\u306e\u305f\u3081\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\u7c21\u7565\u5316\u306e\u305f\u3081\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u7b49\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059\u3002\\n\\n```javascript\\nasync function getToken(url: string) {\\n    const res = await fetch(url);\\n    const json = await res.json();\\n    if (!json) {\\n        throw ReferenceError(\'Empty response\');\\n    }\\n\\n    console.log(`json: ${JSON.stringify(json)}`);\\n    return json[0][\'access_token\'];\\n}\\n\\nasync function callApi(url: string, token: string) {\\n    await fetch(url, {\\n        headers: {\\n            Authorization: `Bearer ${token}`,\\n        },\\n    })\\n        .then((resp) => {\\n            resp.text().then(function (respStr) {\\n                console.log(`success: ${respStr}`);\\n            });\\n        })\\n        .catch((error) => {\\n            console.log(error);\\n        });\\n}\\n\\nexport async function main() {\\n    const authUrl = \'https://YOURAPP.azurewebsites.net/.auth/me\';\\n    const token = await getToken(authUrl);\\n    console.log(`token: ${token}`);\\n\\n    const apiUrl =\\n        \'https://YOURFUNC.azurewebsites.net/api/YOURFUNC?code=YOURCODE\';\\n    callApi(apiUrl, token);\\n}\\n```\\n\\n\u4e0a\u8a18\u5b9f\u88c5\u3092\u8ffd\u52a0\u3057\u305f Pull Request \u306f\u3053\u3061\u3089\u3067\u3059\u3002\\n\\n[support api call #4](https://github.com/ks6088ts-labs/react-ts/pull/4/files#diff-26ad4b834941d9b19ebf9db8082bd202aaf72ea0ddea85f5a8a0cb3c729cc6f2R7)\\n\\n\u52d5\u4f5c\u78ba\u8a8d\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002\\n\\n[github.com/ks6088ts-labs/react-ts](https://github.com/ks6088ts-labs/react-ts)\\n\\n## AAD \u8a8d\u8a3c\u306e\u8a2d\u5b9a\\n\\n- App Service (=\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea)\\n    - `App Service > \u8a8d\u8a3c` \u306b Microsoft \u306e ID \u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u3092\u767b\u9332\\n        - \u767a\u884c\u8005\u306e URL \u3092\u7a7a\u6b04\u306b\u3059\u308b\\n    - `Azure AD > \u7ba1\u7406 > API \u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef` \u306b API (=Azure Functions) \u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3092\u8ffd\u52a0\\n    - `loginParameters` \u8a2d\u5b9a\u3092 Azure Resource Explorer \u3067\u66f8\u304d\u63db\u3048\u308b\u3002(Azure Functions \u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 ID \u3092\u8ffd\u8a18)\\n    - \u53c2\u8003: [Accessing Microsoft Graph with App Service Auth V2](https://azureossd.github.io/2021/06/07/authsettingsv2-graph/)\\n- Azure Functions (=API)\\n    - `\u95a2\u6570\u30a2\u30d7\u30ea > \u8a2d\u5b9a > \u8a8d\u8a3c` \u306e ID \u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306b Microsoft \u3092\u8ffd\u52a0\\n        - \u767a\u884c\u8005\u306e URL \u3092\u7a7a\u6b04\u306b\u3059\u308b\\n    - `Azure AD > \u7ba1\u7406 > API \u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef` \u306b API (=Azure Functions) \u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u3092\u8ffd\u52a0\\n\\n## CORS \u8a2d\u5b9a\\n\\n\u6700\u65b0\u306e\u30d6\u30e9\u30a6\u30b6\u30fc\u3067\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u60aa\u610f\u306e\u3042\u308b\u30b3\u30fc\u30c9\u304c\u5b9f\u884c\u3055\u308c\u308b\u306e\u3092\u9632\u3050\u305f\u3081\u306b\u3001Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u5225\u306e\u30c9\u30e1\u30a4\u30f3\u3067\u5b9f\u884c\u3055\u308c\u308b\u30ea\u30bd\u30fc\u30b9\u3078\u306e\u8981\u6c42\u3092\u30d6\u30ed\u30c3\u30af\u3057\u307e\u3059\u3002\\n\\n\u4eca\u56de\u306f\u3001App Service \u306b\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u9759\u7684\u30b5\u30a4\u30c8\u306e\u30c9\u30e1\u30a4\u30f3\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u8a31\u53ef\u3059\u308b\u305f\u3081\u3001Azure Functions \u306e CORS \u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\\n\\n\u5177\u4f53\u7684\u306b\u306f\u3001Azure \u30dd\u30fc\u30bf\u30eb\u306b\u3066\u3001`\u95a2\u6570\u30a2\u30d7\u30ea > API > CORS` \u3092\u958b\u3044\u3066\u3001\u8a31\u53ef\u3055\u308c\u308b\u5143\u306e\u30c9\u30e1\u30a4\u30f3\u306b `https://YOURAPP.azurewebsites.net` \u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\\n\\n- [\u304a\u4f7f\u3044\u306e Function App \u306e\u7ba1\u7406 / \u30af\u30ed\u30b9 \u30aa\u30ea\u30b8\u30f3 \u30ea\u30bd\u30fc\u30b9\u5171\u6709](https://learn.microsoft.com/ja-jp/azure/azure-functions/functions-how-to-use-azure-function-app-settings?tabs=portal#cors)\\n\\n## MSAL \u3092\u4f7f\u3046\u5834\u5408\\n\\n- [\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb: \u8a8d\u8a3c\u30b3\u30fc\u30c9 \u30d5\u30ed\u30fc\u3092\u4f7f\u7528\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u30b5\u30a4\u30f3\u30a4\u30f3\u3055\u305b\u3066 React \u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8 \u30a2\u30d7\u30ea (SPA) \u304b\u3089 Microsoft Graph API \u3092\u547c\u3073\u51fa\u3059](https://learn.microsoft.com/ja-jp/azure/active-directory/develop/tutorial-v2-react)\\n- [Azure-Samples/ms-identity-javascript-react-spa](https://github.com/Azure-Samples/ms-identity-javascript-react-spa)\\n- [How to call an AAD protected Azure Function from React](https://www.smcculloch.com/how-to-call-aad-protected-azure-function-from-react#:~:text=How%20to%20call%20an%20AAD%20protected%20Azure%20Function,...%205%20Step%205%3A%20Obtain%20Access%20Token%20)\\n\\n\u5b9f\u88c5\u306b\u969b\u3057\u3066\u306f\u4e0a\u8a18\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\\nMSAL \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5074\u306b\u7d44\u307f\u8fbc\u3080\u305f\u3081\u4ee5\u4e0b\u306e\u5bfe\u5fdc\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\\n\\n- \u30ea\u30bd\u30fc\u30b9\u5909\u66f4\u306e\u5ea6\u306b ID \u8a2d\u5b9a\u5909\u66f4\u3092\u5165\u308c\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u3092\u30ea\u30d3\u30eb\u30c9\u3059\u308b\\n- \u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u66f4\u65b0\u304c\u3042\u3063\u305f\u3089\u90fd\u5ea6\u66f4\u65b0\u3059\u308b"},{"id":"container-apps-handson","metadata":{"permalink":"/en/blog/container-apps-handson","source":"@site/blog/2023-03-13-container-apps-handson.md","title":"Azure Container Apps \u30cf\u30f3\u30ba\u30aa\u30f3","description":"Azure Container Apps \u3092\u4f7f\u3063\u3066\u30de\u30eb\u30c1\u30b3\u30f3\u30c6\u30ca\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u3092\u3057\u307e\u3057\u305f\u3002","date":"2023-03-13T00:00:00.000Z","formattedDate":"March 13, 2023","tags":[{"label":"azure","permalink":"/en/blog/tags/azure"},{"label":"container","permalink":"/en/blog/tags/container"}],"readingTime":2.41,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"container-apps-handson","title":"Azure Container Apps \u30cf\u30f3\u30ba\u30aa\u30f3","authors":"ks6088ts","tags":["azure","container"]},"prevItem":{"title":"Azure AD \u8a8d\u53ef\u60c5\u5831\u3092\u7528\u3044\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u304b\u3089 Azure Functions \u3092\u547c\u3073\u51fa\u3059","permalink":"/en/blog/azure-ad-function-api"},"nextItem":{"title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u5b66\u3076 Azure ~ Web API \u7de8 ~","permalink":"/en/blog/learn-from-template-webapi"}},"content":"Azure Container Apps \u3092\u4f7f\u3063\u3066\u30de\u30eb\u30c1\u30b3\u30f3\u30c6\u30ca\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u3092\u3057\u307e\u3057\u305f\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n# Azure Container Apps \u3092\u4f7f\u3063\u3066\u307f\u308b\\n\\nAzure Container Apps \u306f Kubernetes \u306e\u5b9f\u88c5\u8a73\u7d30\u3092\u96a0\u853d\u3057\u3001\u7c21\u5358\u306b\u30de\u30eb\u30c1\u30b3\u30f3\u30c6\u30ca\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002  \\n\u7d20\u306e Kubernetes \u3092\u4f7f\u3046\u3068\u30b1\u30a2\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304b\u3063\u305f\u3053\u3068\u304c\u3001Azure Container Apps \u306b\u3088\u3063\u3066\u96a0\u853d\u3055\u308c\u3066\u3044\u3066\u3001\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u77e5\u8b58\u304c\u5c11\u306a\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002  \\n\u30b5\u30fc\u30d3\u30b9\u306e\u8a73\u7d30\u306f [Azure Container Apps \u306e\u6982\u8981](https://learn.microsoft.com/ja-jp/azure/container-apps/overview) \u306b\u3042\u308a\u307e\u3059\u3002  \\n\\n## \u30cf\u30f3\u30ba\u30aa\u30f3\\n\\n\u500b\u4eba\u7684\u306b\u306f\u5ea7\u5b66\u3088\u308a\u306f\u624b\u3092\u52d5\u304b\u3059\u65b9\u304c\u65e9\u304f\u7406\u89e3\u3067\u304d\u308b\u306e\u3067\u3001[Azure\u30b3\u30f3\u30c6\u30ca\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a](https://amzn.to/3lgDTca) \u3092\u8cb7\u3063\u3066\u30cf\u30f3\u30ba\u30aa\u30f3\u3092\u3057\u3066\u307f\u307e\u3057\u305f\u3002\\n\\n\u300eAzure \u30b3\u30f3\u30c6\u30ca\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u300f\uff08\u6280\u8853\u8a55\u8ad6\u793e\uff0c2023 \u5e74\uff09\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f [github.com/gihyo-book/azure-container-dev-book](https://github.com/gihyo-book/azure-container-dev-book) \u306b\u3042\u308a\u307e\u3059\u3002  \\ndev container \u3082\u3042\u308b\u306e\u3067\u3001VS Code \u3067\u958b\u304f\u3068\u74b0\u5883\u304c\u4e00\u6c17\u306b\u6574\u3044\u307e\u3059\u3002  \\n\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u5b9f\u884c\u3059\u308b Azure CLI \u30b3\u30de\u30f3\u30c9\u306f [azure-container-dev-book/apps/part3/README.azcli](https://github.com/gihyo-book/azure-container-dev-book/blob/main/apps/part3/README.azcli) \u306b\u3042\u308a\u307e\u3059\u3002dev container \u304b\u3089\u9010\u6b21\u5b9f\u884c\u3057\u3066\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\\n\\n\u30b3\u30f3\u30c6\u30ca\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3084\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u6226\u7565\u306a\u3069\u306e\u89e3\u8aac\u3082\u3042\u308a\u3001Azure Container Apps \u306e\u6982\u8981\u3092\u77e5\u308b\u306e\u306b\u306f\u5341\u5206\u306a\u5185\u5bb9\u3060\u3068\u601d\u3044\u307e\u3057\u305f\u3002\\nKubernetes \u306e\u5834\u5408\u306f\u30b5\u30fc\u30d3\u30b9\u30e1\u30c3\u30b7\u30e5\u3092\u5c0e\u5165\u3057\u3066\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u304c Azure Container Apps \u3067\u306f\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\\n\u307e\u305f\u3001\u30ab\u30ca\u30ea\u30a2\u30ea\u30ea\u30fc\u30b9\u3084\u30ea\u30d3\u30b8\u30e7\u30f3\u7ba1\u7406\u306a\u3069\u3001\u30de\u30eb\u30c1\u30b3\u30f3\u30c6\u30ca\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u767a\u306b\u5fc5\u8981\u306a\u6a5f\u80fd\u304c\u63c3\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u7406\u89e3\u3067\u304d\u307e\u3057\u305f\u3002\\n\\n## \u53c2\u8003\u30ea\u30f3\u30af\\n\\n- [Azure Container Apps\u3092\u8a66\u3057\u3066\u307f\u305f](https://techblog.ap-com.co.jp/entry/2021/11/03/093821)\\n  - Azure Portal \u304b\u3089\u8a66\u3057\u305f\u4f8b\\n- [Terraform\u3067Azure Container Apps\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f\u306e\u3067\u7206\u901f\u3067\u30c7\u30d7\u30ed\u30a4\u3059\u308b](https://techblog.ap-com.co.jp/entry/2023/02/10/155135)\\n  - Terraform \u3067\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u4f8b\u3002AzureRM Provider \u306e v.3.43.0 \u304b\u3089\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3059\u3050\u306b\u8a18\u4e8b\u304c\u51fa\u3066\u3044\u3066\u975e\u5e38\u306b\u52a9\u304b\u308a\u307e\u3057\u305f\u3002\\n- [Azure Container Apps\u3067CI/CD(GitHub Actions\u7de8)](https://techblog.ap-com.co.jp/entry/2022/09/01/120000)\\n  - GitHub Actions \u3067\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3066 ACR \u3078\u683c\u7d0d\u3057\u3001\u305d\u306e\u30a4\u30e1\u30fc\u30b8\u3092 Container Apps \u3078\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u4f8b\\n- [Azure-Samples/todo-nodejs-mongo-aca](https://github.com/Azure-Samples/todo-nodejs-mongo-aca)\\n  - Azure Developer CLI \u3067\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u308b ACA \u3092\u4f7f\u3063\u305f\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3"},{"id":"learn-from-template-webapi","metadata":{"permalink":"/en/blog/learn-from-template-webapi","source":"@site/blog/2023-03-10-learn-from-template-webapi.md","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u5b66\u3076 Azure ~ Web API \u7de8 ~","description":"\u7c21\u5358\u306a TODO \u30a2\u30d7\u30ea\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089 Azure \u3092\u5b66\u3076\u30b7\u30ea\u30fc\u30ba\u3002","date":"2023-03-10T00:00:00.000Z","formattedDate":"March 10, 2023","tags":[{"label":"terraform","permalink":"/en/blog/tags/terraform"},{"label":"azure","permalink":"/en/blog/tags/azure"},{"label":"apim","permalink":"/en/blog/tags/apim"}],"readingTime":4.085,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"learn-from-template-webapi","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u5b66\u3076 Azure ~ Web API \u7de8 ~","authors":"ks6088ts","tags":["terraform","azure","apim"]},"prevItem":{"title":"Azure Container Apps \u30cf\u30f3\u30ba\u30aa\u30f3","permalink":"/en/blog/container-apps-handson"},"nextItem":{"title":"PowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9","permalink":"/en/blog/powershell-development-environment"}},"content":"\u7c21\u5358\u306a TODO \u30a2\u30d7\u30ea\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089 Azure \u3092\u5b66\u3076\u30b7\u30ea\u30fc\u30ba\u3002\\n\u4eca\u56de\u306f [Azure-Samples/todo-nodejs-mongo-terraform](https://github.com/Azure-Samples/todo-nodejs-mongo-terraform)\u3092\u89e6\u3063\u3066\u52c9\u5f37\u3057\u307e\u3059\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n# [Azure-Samples/todo-nodejs-mongo-terraform](https://github.com/Azure-Samples/todo-nodejs-mongo-terraform)\\n\\n## \u76ee\u7684\\n\\n\u7c21\u5358\u306a TODO \u30a2\u30d7\u30ea\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u3001\u5b9f\u52d5\u4f5c\u3068\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u78ba\u304b\u3081\u3064\u3064\u3001Azure \u306e\u57fa\u672c\u7684\u306a\u6a5f\u80fd\u3092\u5b66\u3073\u307e\u3059\u3002\\n\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\\n\\n![architecture](https://github.com/Azure-Samples/todo-nodejs-mongo-terraform/raw/main/assets/resources.png)\\n\\n## \u30c7\u30d7\u30ed\u30a4\\n\\n\u307e\u305a\u306f [README.md](https://github.com/Azure-Samples/todo-nodejs-mongo-terraform/blob/main/README.md) \u3092\u8aad\u307f\u3001\u30c7\u30d7\u30ed\u30a4\u624b\u9806\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\\n\\n\u3053\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306f `azd` \u5bfe\u5fdc\u306a\u306e\u3067\u3001\u30b3\u30de\u30f3\u30c9\u4e00\u767a\u3067\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u307e\u3059\u3002\\nazd \u306b\u3064\u3044\u3066\u306f\u3001[Azure Developer CLI \u306b\u3088\u308b\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u306e\u9ad8\u901f\u5316](./2023-03-07-azure-developer-cli-get-started.md)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\\n\\n```shell\\n# \u30ea\u30dd\u30b8\u30c8\u30ea\u3092 clone\\ngit clone git@github.com:Azure-Samples/todo-nodejs-mongo-terraform.git\\ncd todo-nodejs-mongo-terraform\\n\\n# APIM \u3092\u4f7f\u3044\u305f\u3044\u306e\u3067\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\\nazd env set USE_APIM true\\n\\n# \u30c7\u30d7\u30ed\u30a4\\nazd up\\n```\\n\\n\u4ee5\u4e0a\u3067 Azure \u4e0a\u306b\u30ea\u30bd\u30fc\u30b9\u304c\u4f5c\u6210\u3055\u308c\u3001\u30c7\u30d7\u30ed\u30a4\u304c\u5b8c\u4e86\u3057\u307e\u3059\u3002\\n\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f API \u30b5\u30fc\u30d0\u30fc\u3084 Web \u30a2\u30d7\u30ea\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\u3002\\n\\n- API \u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9(Swagger UI \u304c\u958b\u304f): `https://app-api-{RESOURCE_TOKEN}.azurewebsites.net/`\\n- Web \u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9(Web \u30a2\u30d7\u30ea\u304c\u958b\u304f): `https://app-web-{RESOURCE_TOKEN}.azurewebsites.net/`\\n\\n\u307e\u305f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u52d5\u4f5c\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\\n\\n```shell\\n# Azure Dashboard \u3092\u958b\u304f\\nazd monitor --overview\\n\\n# Application Insights \u306e Live metrics stream \u3092\u958b\u304f\\nazd monitor --live\\n\\n# Application Insights \u306e Logs \u3092\u958b\u304f\\nazd monitor --logs\\n```\\n\\n## \u30b3\u30fc\u30c9\u3092\u8aad\u3080\\n\\n`azd` \u5bfe\u5fdc\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306b\u898f\u5247\u6027\u304c\u3042\u308b\u306e\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u8aad\u307f\u3084\u3059\u3044\u3067\u3059\u3002\\n\u4e00\u4f8b\u3068\u3057\u3066\u81ea\u5206\u306e\u30b3\u30fc\u30c9\u306e\u8aad\u307f\u65b9\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\\n\\n### IaC \u30b3\u30fc\u30c9\u306e\u6982\u8981\u3092\u3064\u304b\u3080\\n\\n\u30a4\u30f3\u30d5\u30e9\u5074\u306e\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u306f\u3001`infra/` \u4ee5\u4e0b\u306b\u3042\u308a\u307e\u3059\u3002\\n[infra/main.tf](https://github.com/Azure-Samples/todo-nodejs-mongo-terraform/blob/main/infra/main.tf) \u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u3063\u3066\u3044\u3066\u3001\u3053\u3053\u3067\u5b9a\u7fa9\u3055\u308c\u308b\u5404\u7a2e module \u306e\u5b9f\u88c5\u8a73\u7d30\u306f `modules/` \u4ee5\u4e0b\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\\n\\n\u7d30\u90e8\u3092\u8aad\u307f\u8fbc\u3080\u524d\u306b\u3001\u307e\u305a\u306f\u3053\u306e main.tf \u3092\u8aad\u3093\u3067\u5168\u4f53\u50cf\u3092\u628a\u63e1\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\\n\u3053\u3053\u3067\u306f\u4e00\u4f8b\u3068\u3057\u3066 `applicationinsights` \u3092\u898b\u3066\u307f\u307e\u3059\u3002\\n\\n```terraform\\nmodule \\"applicationinsights\\" {\\n  source           = \\"./modules/applicationinsights\\"\\n  location         = var.location\\n  rg_name          = azurerm_resource_group.rg.name\\n  environment_name = var.environment_name\\n  workspace_id     = module.loganalytics.LOGANALYTICS_WORKSPACE_ID\\n  tags             = azurerm_resource_group.rg.tags\\n  resource_token   = local.resource_token\\n}\\n```\\n\\n\u3053\u3053\u3067\u5f15\u6570\u3068\u3057\u3066\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b `module.loganalytics.LOGANALYTICS_WORKSPACE_ID` \u306b\u6ce8\u76ee\u3057\u307e\u3059\u3002  \\n\u3053\u308c\u306f applicationinsights \u304c loganalytics \u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\\n\u3059\u3079\u3066\u3092\u982d\u306b\u5165\u308c\u308b\u306e\u306f\u5927\u5909\u306a\u306e\u3067\u3001\u3069\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3069\u306e\u3088\u3046\u306a\u65b9\u5411\u3067\u4f9d\u5b58\u3092\u5f35\u3063\u3066\u3044\u308b\u306e\u304b\u306e\u6982\u8981\u3092\u3056\u3063\u304f\u308a\u628a\u63e1\u3057\u3066\u304a\u304f\u3068\u3001\u5f8c\u3005\u306e\u7d30\u90e8\u306e\u7406\u89e3\u304c\u697d\u306b\u306a\u308a\u307e\u3059\u3002  \\n(\u56f3\u306b\u66f8\u3044\u3066\u30e2\u30b8\u30e5\u30fc\u30eb\u9593\u306e\u4f9d\u5b58\u3092\u77e2\u5370\u3067\u66f8\u304f\u3068\u826f\u3044\u3067\u3059)\\n\\nWeb \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068 API \u30b5\u30fc\u30d0\u30fc\u306e\u5b9f\u88c5\u306f\u3001`modules/appservicenode/` \u4ee5\u4e0b\u306b\u3042\u308a\u307e\u3059\u3002\\n\u305d\u308c\u305e\u308c\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u53c2\u7167\u3057\u3066\u3044\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u304b\u3089\u4f9d\u5b58\u95a2\u4fc2\u304c\u5224\u308a\u307e\u3059\u3002\\n\u4ee5\u4e0b\u306f API \u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u5024\u3067\u3059\u3002\\n\\n```terraform\\n  app_settings = {\\n    \\"AZURE_COSMOS_CONNECTION_STRING_KEY\\"    = local.cosmos_connection_string_key\\n    \\"AZURE_COSMOS_DATABASE_NAME\\"            = module.cosmos.AZURE_COSMOS_DATABASE_NAME\\n    \\"SCM_DO_BUILD_DURING_DEPLOYMENT\\"        = \\"true\\"\\n    \\"AZURE_KEY_VAULT_ENDPOINT\\"              = module.keyvault.AZURE_KEY_VAULT_ENDPOINT\\n    \\"APPLICATIONINSIGHTS_CONNECTION_STRING\\" = module.applicationinsights.APPLICATIONINSIGHTS_CONNECTION_STRING\\n  }\\n```\\n\\n\u3056\u3063\u304f\u308a\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u5206\u308a\u307e\u3059\u3002\\n\\n- `module.cosmos`, `AZURE_COSMOS_CONNECTION_STRING_KEY` \u304b\u3089 Cosmos DB \u306b\u4f9d\u5b58\\n- `AZURE_KEY_VAULT_ENDPOINT` \u304b\u3089 Key Vault \u306b\u4f9d\u5b58\\n- `module.applicationinsights.APPLICATIONINSIGHTS_CONNECTION_STRING` \u304b\u3089 Application Insights \u306b\u4f9d\u5b58\\n\\n`azd up` \u3067\u4f5c\u6210\u3055\u308c\u305f\u5404\u7a2e\u30ea\u30bd\u30fc\u30b9\u306f `.azure/ENVIRONMENT_NAME/terraform.tfstate` \u306b\u8a18\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u5b9f\u969b\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u500b\u3005\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\\n\\n### WIP: azure.yaml \u306e services \u306e\u30d3\u30eb\u30c9\u30d7\u30ed\u30bb\u30b9\u306b\u3064\u3044\u3066\\n\\n`azd` \u306f\u3001`azure.yaml` \u306b\u5b9a\u7fa9\u3055\u308c\u305f `services` \u306e\u30d3\u30eb\u30c9\u30d7\u30ed\u30bb\u30b9\u3092\u81ea\u52d5\u5316\u3057\u3066\u3044\u307e\u3059\u3002\\n\u6319\u52d5\u306e\u8a73\u7d30\u306f\u628a\u63e1\u3057\u6b21\u7b2c\u8ffd\u8a18\u3057\u307e\u3059\u3002"},{"id":"powershell-development-environment","metadata":{"permalink":"/en/blog/powershell-development-environment","source":"@site/blog/2023-03-10-powershell-development-envitonment.md","title":"PowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9","description":"PowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9\u306b\u3042\u305f\u308a\u3001\u4fbf\u5229\u306a\u30c4\u30fc\u30eb\u3084\u74b0\u5883\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002","date":"2023-03-10T00:00:00.000Z","formattedDate":"March 10, 2023","tags":[{"label":"powershell","permalink":"/en/blog/tags/powershell"}],"readingTime":2.49,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"powershell-development-environment","title":"PowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9","authors":"ks6088ts","tags":["powershell"]},"prevItem":{"title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u5b66\u3076 Azure ~ Web API \u7de8 ~","permalink":"/en/blog/learn-from-template-webapi"},"nextItem":{"title":"Azure Developer CLI \u306b\u3088\u308b\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u306e\u9ad8\u901f\u5316","permalink":"/en/blog/azure-developer-cli-get-started"}},"content":"PowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9\u306b\u3042\u305f\u308a\u3001\u4fbf\u5229\u306a\u30c4\u30fc\u30eb\u3084\u74b0\u5883\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n# PowerShell \u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9\\n\\n## \u30a8\u30c7\u30a3\u30bf\\n\\nSyntax highlighting\u3001\u30a4\u30f3\u30c6\u30ea\u30bb\u30f3\u30b9\u306a\u3069\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u3001[PowerShell for Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=ms-vscode.PowerShell)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066 VS Code \u4e0a\u3067\u958b\u767a\u3057\u307e\u3059\u3002\\n\\n## \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\\n\\n\u57fa\u672c\u7684\u306b\u306f\u3001[PowerShell Documentation](https://learn.microsoft.com/ja-jp/powershell/)\u306e\u516c\u5f0f\u60c5\u5831\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\\n\u5177\u4f53\u7684\u306a\u6587\u6cd5\u3084\u4f7f\u3044\u65b9\u306b\u95a2\u3057\u3066\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u898b\u305f\u3044\u5834\u5408\u306f\u3001[~\u306b\u3064\u3044\u3066\u77e5\u308a\u305f\u304b\u3063\u305f\u3053\u3068\u306e\u3059\u3079\u3066](https://learn.microsoft.com/ja-jp/powershell/scripting/learn/deep-dives/everything-about-arrays)\u3092\u53c2\u7167\u3059\u308b\u3068\u826f\u3044\u3067\u3059\u3002\\nPowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u958b\u767a\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3092\u77e5\u308a\u305f\u3044\u5834\u5408\u306f\u3001[PowerShell Best Practices and Style Guide](https://poshcode.gitbook.io/powershell-practice-and-style/) \u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\\n\\n### Code snippets\\n\\n\u500b\u4eba\u7684\u306b\u3088\u304f\u4f7f\u3046\u30b9\u30cb\u30da\u30c3\u30c8\u96c6\u3092\u4f5c\u6210\u3057\u3066\u3001\u30b3\u30fc\u30c9\u8cc7\u7523\u3092\u4f7f\u3044\u307e\u308f\u3059\u3068\u52b9\u7387\u7684\u3067\u3059\u3002\\n\u7d30\u304b\u3044\u6587\u6cd5\u306a\u3069\u306f\u89e6\u3063\u3066\u3044\u306a\u3044\u3068\u5fd8\u308c\u304c\u3061\u306a\u306e\u3067\u3001\u3088\u304f\u4f7f\u3046\u30b9\u30cb\u30da\u30c3\u30c8\u306f\u4f7f\u3044\u307e\u308f\u305b\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\\n\\n```powershell title=\\"Install PowerShell modules\\"\\n#!/usr/bin/env pwsh\\n\\nWrite-Host \\"Running \\"$MyInvocation.MyCommand.Name\\" ...\\"\\n\\nSet-PSRepository -Name \'PSGallery\' -InstallationPolicy Trusted\\n\\n$modules = @(\\n    \\"Microsoft.Graph\\"\\n    \\"Pester\\"\\n)\\n\\nforeach ($module in $modules) {\\n    Write-Host \\"Installing $module\\"\\n    Install-Module -Name $module -Scope CurrentUser\\n}\\n```\\n\\n```powershell title=\\"PowerShell module: mymodule.psm1\\"\\n# mymodule \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\\n$global:MyModuleVersion = \\"v0.0.1\\"\\n\\nfunction Initialize-MyModule {\\n    # do something\\n}\\n\\nExport-ModuleMember -Variable MyModuleVersion\\nExport-ModuleMember -Function Initialize-MyModule\\n```\\n\\n```powershell title=\\"PowerShell script: client.test.ps1\\"\\n# unit test by Pester\\nusing module \\"./mymodule.psm1\\"\\n\\nDescribe \\"Smoke test\\" {\\n    Context \\"Nominal case\\" {\\n        It \\"Check global variables\\" {\\n            # version variable settings\\n            $MyModuleVersion | Should Be \\"v0.0.1\\"\\n        }\\n    }\\n}\\n```\\n\\n## \u9759\u7684\u89e3\u6790\\n\\n[PowerShell/PSScriptAnalyzer](https://github.com/PowerShell/PSScriptAnalyzer)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\\n\\n```powershell\\nInstall-Module -Name PSScriptAnalyzer -Scope CurrentUser\\n```\\n\\n\u4f7f\u3044\u65b9\u306f [PSScriptAnalyzer\u3092\u4f7f\u3063\u3066PowerShell\u306e\u30b3\u30fc\u30c9\u3092\u30ad\u30ec\u30a4\u306b\u4fdd\u3068\u3046](https://qiita.com/nimzo6689/items/1c55c6782027a78a51e5)\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\\n\\n## \u30c6\u30b9\u30c8\\n\\n\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3068\u3057\u3066[Pester / Quick Start](https://pester.dev/docs/quick-start/)\u3092\u4f7f\u3044\u307e\u3059\u3002\\n\\n```powershell\\nInstall-Module -Name Pester -Scope CurrentUser\\n```\\n\\n## Docker\\n\\nPowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u518d\u73fe\u6027\u62c5\u4fdd\u306e\u305f\u3081\u306b\u3001Docker \u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u958b\u767a\u3057\u305f\u3044\u5834\u5408\u3001\u30d9\u30fc\u30b9\u3068\u306a\u308b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f [mcr.microsoft.com/powershell](https://mcr.microsoft.com/en-us/product/powershell/tags) \u306b\u3042\u308a\u307e\u3059\u3002\u5fc5\u8981\u306a tag \u3092\u6307\u5b9a\u3057\u3066\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\\n\u7279\u306b\u3001PowerShell module \u304c\u5ec3\u6b62\u306b\u306a\u308b\u5834\u5408\u3001\u305d\u306e module \u306e\u4f9d\u5b58\u3092\u5265\u304c\u3059\u958b\u767a\u3092\u3059\u308b\u5834\u5408\u306a\u3069\u3067\u91cd\u5b9d\u3057\u307e\u3057\u305f\u3002"},{"id":"azure-developer-cli-get-started","metadata":{"permalink":"/en/blog/azure-developer-cli-get-started","source":"@site/blog/2023-03-07-azure-developer-cli-get-started.md","title":"Azure Developer CLI \u306b\u3088\u308b\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u306e\u9ad8\u901f\u5316","description":"\u5b9f\u969b\u306b Azure Developer CLI \u3092\u4f7f\u3063\u3066\u307f\u3066\u826f\u304b\u3063\u305f\u70b9\u3084\u3001\u53c2\u8003\u3068\u306a\u308b\u30b5\u30a4\u30c8\u306b\u3064\u3044\u3066\u7e8f\u3081\u307e\u3059\u3002","date":"2023-03-07T00:00:00.000Z","formattedDate":"March 7, 2023","tags":[{"label":"azure","permalink":"/en/blog/tags/azure"},{"label":"azd","permalink":"/en/blog/tags/azd"}],"readingTime":5.59,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"azure-developer-cli-get-started","title":"Azure Developer CLI \u306b\u3088\u308b\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u306e\u9ad8\u901f\u5316","authors":"ks6088ts","tags":["azure","azd"]},"prevItem":{"title":"PowerShell \u30b9\u30af\u30ea\u30d7\u30c8\u958b\u767a\u74b0\u5883\u306e\u69cb\u7bc9","permalink":"/en/blog/powershell-development-environment"},"nextItem":{"title":"GitHub Pages by Docusaurus","permalink":"/en/blog/gh-pages-by-docusaurus"}},"content":"\u5b9f\u969b\u306b Azure Developer CLI \u3092\u4f7f\u3063\u3066\u307f\u3066\u826f\u304b\u3063\u305f\u70b9\u3084\u3001\u53c2\u8003\u3068\u306a\u308b\u30b5\u30a4\u30c8\u306b\u3064\u3044\u3066\u7e8f\u3081\u307e\u3059\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n# Azure Developer CLI \u3068\u306f\\n\\nAzure Developer CLI (\u4ee5\u4e0b\u3001`azd`) \u306f\u3001Azure \u4e0a\u3067\u30af\u30e9\u30a6\u30c9\u30a2\u30d7\u30ea\u3092\u30d3\u30eb\u30c9\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u3092\u9ad8\u901f\u5316\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30c4\u30fc\u30eb\u3067\u3059\u3002  \\n\u898f\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u3092\u3082\u3064\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066\u3001`azd` \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092 Azure \u4e0a\u306b\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u307e\u3059\u3002  \\n\u3053\u308c\u3089\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9\u30fbIaC \u30d5\u30a1\u30a4\u30eb(`Bicep` or `Terraform`)\u30fb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u69cb\u9020\u3092\u8a18\u8ff0\u3059\u308b `azure.yaml` \u30d5\u30a1\u30a4\u30eb\u304b\u3089\u69cb\u6210\u3055\u308c\u307e\u3059\u3002  \\n\u3053\u3061\u3089\u3067\u306f\u7c21\u5358\u306a\u4f7f\u3044\u65b9\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\\n\\n<iframe width=\\"560\\" height=\\"315\\" src=\\"https://www.youtube.com/embed/VTk-FhJyo7s\\" title=\\"YouTube video player\\" frameborder=\\"0\\" allow=\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\\" allowfullscreen></iframe>\\n\\n`azd` \u3092\u4f7f\u3046\u3068\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u7c21\u5358\u304b\u3064\u518d\u73fe\u6027\u306e\u3042\u308b\u5f62\u3067\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u307e\u3059\u3002  \\n\u3084\u308a\u305f\u3044\u3053\u3068\u306b\u8fd1\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u63a2\u3057\u3066\u3001\u305d\u3053\u304b\u3089\u8a2d\u5b9a\u5909\u66f4\u3084\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5fae\u4fee\u6b63\u3057\u3066\u3044\u304f\u3068\u3001\u958b\u767a\u5de5\u6570\u304c\u5927\u5e45\u306b\u524a\u6e1b\u3067\u304d\u307e\u3059\u3002\\n\\n[Azure/awesome-azd](https://github.com/Azure/awesome-azd)\u306b\u306f azd \u95a2\u9023\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u3084\u52d5\u753b\u306a\u3069\u306e\u60c5\u5831\u304c\u307e\u3068\u307e\u3063\u3066\u3044\u307e\u3059\u3002  \\n`azd` \u4e92\u63db\u306a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u304b\u3089\u63a2\u305b\u307e\u3059\u3002\\n\\n- [Awesome AZD Templates Gallery](https://aka.ms/awesome-azd): azd \u4e92\u63db\u306a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u691c\u7d22\u53ef\u80fd\u306a\u30b5\u30a4\u30c8\\n- [Azure Developer CLI templates](https://github.com/topics/azd-templates): GitHub \u3067 `Azure Developer CLI templates` topic \u304c\u3064\u3044\u3066\u3044\u308b\u3082\u306e\\n\\n# Azure Developer CLI \u306e\u30cf\u30f3\u30ba\u30aa\u30f3\\n\\n\u30cf\u30f3\u30ba\u30aa\u30f3\u3068\u3044\u3063\u3066\u3082\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u3060\u3051\u306a\u306e\u3067\u6570\u5206\u3067\u5b8c\u7d50\u3057\u307e\u3059\u3002  \\n\u307e\u305a\u306f `azd` \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002  \\n[Azure Developer CLI\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b (\u30d7\u30ec\u30d3\u30e5\u30fc)](https://learn.microsoft.com/ja-jp/azure/developer/azure-developer-cli/install-azd?tabs=localinstall%2Cwindows%2Cbrew) \u3092\u53c2\u8003\u306b\u3001\u958b\u767a\u74b0\u5883\u306e OS \u306b\u5fdc\u3058\u305f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u3092\u5b9f\u884c\u3057\u3001`azd` \u30b3\u30de\u30f3\u30c9\u304c\u901a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \\n\u305f\u3068\u3048\u3070 Linux/macOS \u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\\n\\n```shell title=\\"azd \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\\"\\n$ curl -fsSL https://aka.ms/install-azd.sh | bash\\n```\\n\\n\u6b21\u306b `azd` \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066 Azure \u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u8a8d\u8a3c\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002  \\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\\n\\n```shell title=\\"Azure \u306b\u30ed\u30b0\u30a4\u30f3\\"\\n$ azd login\\nLogged in to Azure.\\n```\\n\\n\u9069\u5f53\u306a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u6307\u5b9a\u3057\u3066 `azd` \u3067 Azure \u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002  \\n\u3053\u3053\u3067\u306f [Azure-Samples/todo-nodejs-mongo-terraform](https://github.com/Azure-Samples/todo-nodejs-mongo-terraform) \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002  \\n`azd up` \u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u521d\u671f\u5316\u3001\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3001\u30c7\u30d7\u30ed\u30a4\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\\n\\n```shell title=\\"azd \u3067\u30c7\u30d7\u30ed\u30a4\\"\\n$ azd up --template todo-nodejs-mongo-terraform\\n\\nInitializing a new project (azd init)\\n\\n  (\u2713) Done: Initialized git repository\\n  (\u2713) Done: Downloading template code to: ...\\n\\n? Please enter a new environment name: handson_test\\n\\n? Please enter a new environment name: handson_test\\n? Please select an Azure Subscription to use:\\n? Please select an Azure location to use:  9. (Asia Pacific) Japan East (japaneast)\\n\\nProvisioning Azure resources (azd provision)\\nProvisioning Azure resources can take some time\\n...\\n```\\n\\n`--template` \u306e\u6307\u5b9a\u65b9\u6cd5\u306f\u3001`Azure-Samples/` \u914d\u4e0b\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3042\u308c\u3070\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u3060\u3051\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001`https://github.com/Azure-Samples/todo-nodejs-mongo-terraform` \u306e\u3088\u3046\u306b URI \u3092\u30d5\u30eb\u3067\u6307\u5b9a\u3082\u3067\u304d\u307e\u3059\u3002  \\n\\n\u306a\u304a\u3001`azd up` \u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u500b\u5225\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u3068\u7b49\u4fa1\u3067\u3059\u3002\\n\\n```shell\\n$ azd init\\n$ azd provision\\n$ azd deploy\\n```\\n\\n\u516c\u5f0f\u306e [VS Code extension](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.azure-dev) \u3082\u3042\u308b\u306e\u3067\u3001VS Code \u4e0a\u306e\u64cd\u4f5c\u3067 `azd` \u306e\u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\\n\\n# \u4f55\u304c\u5b09\u3057\u3044\u306e\u304b\\n\\n\u4eca\u6642\u3001\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7acb\u3061\u4e0a\u3052\u3088\u3046\u3068\u3059\u308b\u3068\u3001CI/CD pipeline\u3001dev container\u3001vscode \u8a2d\u5b9a\u3001linter/formatter\u3001IaC \u306a\u3069\u3001\u3084\u308b\u3053\u3068\u304c\u591a\u3044\u3067\u3059\u3002  \\n\u307b\u3068\u3093\u3069\u306e\u4f5c\u696d\u306f\u5b9a\u578b\u7684\u306a\u4f5c\u696d\u3067\u306f\u3042\u308b\u306e\u3067\u3001\u3053\u306e\u8fba\u3092\u4e38\u3063\u3068\u62bd\u8c61\u5316\u3057\u3066\u9069\u5207\u306a\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3092\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5074\u3067\u4e0e\u3048\u3066\u304f\u308c\u308b\u70b9\u304c\u5b09\u3057\u3044\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\\n\\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u53d6\u3063\u639b\u304b\u308a\u306b\u3057\u3066\u3001\u5fc5\u8981\u306a\u5909\u66f4\u3092\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u5165\u308c\u305f\u308a\u3001\u8a2d\u5b9a\u5024\u3092\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u3059\u308b\u3060\u3051\u3067\u3084\u308a\u305f\u3044\u3053\u3068\u306b\u65e9\u304f\u8fd1\u3065\u3051\u307e\u3059\u3002  \\n\u4eca\u5f8c\u3055\u3089\u306b azd \u4e92\u63db\u306a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u5897\u3048\u308c\u3070\u305d\u306e\u52e2\u3044\u306f\u5897\u3057\u3066\u3044\u304d\u307e\u3059\u3002\\n\\n\u3053\u306e\u624b\u306e scaffolding \u30c4\u30fc\u30eb\u306f\u65e2\u306b\u4e16\u306e\u4e2d\u306b\u3042\u308a\u3001template repo \u3092 fork \u3057\u305f\u308a cookiecutter \u3092\u4f7f\u3046\u306e\u3068\u307b\u307c\u7b49\u4fa1\u3067\u306f\u3042\u308a\u307e\u3059\u3002\u304c\u3001\u4ee5\u4e0b\u306e\u70b9\u304c `azd` \u306a\u3089\u3067\u306f\u306e\u30e1\u30ea\u30c3\u30c8\u3067\u3059\u3002\\n\\n- \u5229\u7528\u8005\u306f CLI \u3067\u5b8c\u7d50\u3057\u3066\u4f5c\u696d\u3067\u304d\u308b\\n- \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u968e\u5c64\u306e\u898f\u7d04\u304c\u3042\u308b\u306e\u3067\u5229\u7528\u8005\u306e\u8a8d\u77e5\u8ca0\u8377\u304c\u4f4e\u3044\\n\\n[Azure/reliable-web-app-pattern-dotnet](https://github.com/Azure/reliable-web-app-pattern-dotnet) \u306e\u3088\u3046\u306b production grade \u306a\u3082\u306e\u3082\u958b\u767a\u3055\u308c\u3066\u3044\u307e\u3059\u3002  \\nAzure \u30e6\u30fc\u30b6\u30fc\u306e\u751f\u7523\u6027\u3092\u5411\u4e0a\u3055\u305b\u308b\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u306e\u767a\u5c55\u304c\u3001\u3088\u308a\u591a\u304f\u306e\u3053\u3068\u3092\u5c11\u306a\u3044\u624b\u9593\u3067\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u4e00\u52a9\u306b\u306a\u308b\u306e\u3067\u306f\u3068\u671f\u5f85\u3057\u3066\u3044\u307e\u3059\u3002\\n\\n# TODO\\n\\n## azd \u4e92\u63db\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\\n\\n[`azd` conventions](https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/make-azd-compatible?pivots=azd-create#azd-conventions)\u306b\u5f93\u3063\u3066\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\\n\\n## azd \u306b contribute \u3059\u308b\\n\\nCLI \u3068 extension \u306f monorepo \u69cb\u6210\u3067[Azure/azure-dev](https://github.com/Azure/azure-dev)\u306b\u3066\u958b\u767a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\\nextension \u306f TypeScript\u3001azd \u672c\u4f53\u306f Go \u3067\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002"},{"id":"gh-pages-by-docusaurus","metadata":{"permalink":"/en/blog/gh-pages-by-docusaurus","source":"@site/blog/2023-03-06-gh-pages-by-docusaurus.md","title":"GitHub Pages by Docusaurus","description":"A note for deploying a static site built with docusaurus on GitHub Pages","date":"2023-03-06T00:00:00.000Z","formattedDate":"March 6, 2023","tags":[{"label":"docusaurus","permalink":"/en/blog/tags/docusaurus"}],"readingTime":0.48,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"gh-pages-by-docusaurus","title":"GitHub Pages by Docusaurus","authors":"ks6088ts","tags":["docusaurus"]},"prevItem":{"title":"Azure Developer CLI \u306b\u3088\u308b\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u306e\u9ad8\u901f\u5316","permalink":"/en/blog/azure-developer-cli-get-started"},"nextItem":{"title":"Terraform provider for SORACOM \u3092\u4f5c\u3063\u3066 Azure Functions \u3068\u9023\u643a\u3057\u3066\u307f\u305f","permalink":"/en/blog/terraform-provider-soracom"}},"content":"A note for deploying a static site built with docusaurus on GitHub Pages\\n\\n\x3c!--truncate--\x3e\\n\\n## Get started\\n\\n### Scaffold project website\\n\\n- Reference: [Docusaurus / Installation / Scaffold project website](https://docusaurus.io/docs/installation#scaffold-project-website)\\n\\n```shell\\nnpx create-docusaurus@latest ks6088ts-labs.github.io classic --typescript\\n```\\n\\n### Docusaurus configurations\\n\\n- Reference: [docusaurus.config.js](https://docusaurus.io/docs/api/docusaurus-config)\\n- Commit: [update settings for docusaurus](https://github.com/ks6088ts/ks6088ts.github.io/commit/c02e76e5f68febeeb6c4cd2df02a0473f762e9fb)\\n\\n### Deploy to GitHub Actions with GitHub Actions\\n\\n- Reference: [Docusaurus / Deployment / Triggering deployment with GitHub Actions](https://docusaurus.io/docs/deployment#triggering-deployment-with-github-actions)\\n- Commit: [add deploy action](https://github.com/ks6088ts/ks6088ts.github.io/commit/f27953ff6b308eb61986d7941f779f0a24fc57ef)\\n\\n### Update GitHub Settings\\n\\n- [remote: Permission to git denied to github-actions[bot]. #96](https://github.com/ad-m/github-push-action/issues/96#issuecomment-889984928)\\n- [Configuring a publishing source for your GitHub Pages site](https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site)"},{"id":"terraform-provider-soracom","metadata":{"permalink":"/en/blog/terraform-provider-soracom","source":"@site/blog/2022-12-10-terraform-provider-soracom/index.md","title":"Terraform provider for SORACOM \u3092\u4f5c\u3063\u3066 Azure Functions \u3068\u9023\u643a\u3057\u3066\u307f\u305f","description":"Terraform \u3067 SORACOM \u306e\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u3092\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001SORACOM \u5411\u3051\u306e Terraform \u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u958b\u767a\u306b\u4fc2\u308b\u77e5\u898b\u3084\u3001Terraform provider for SORACOM \u3067 SORACOM \u306e\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u3092\u3057\u3066\u307f\u305f\u4f8b\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002","date":"2022-12-10T00:00:00.000Z","formattedDate":"December 10, 2022","tags":[{"label":"terraform","permalink":"/en/blog/tags/terraform"},{"label":"azure","permalink":"/en/blog/tags/azure"}],"readingTime":26.15,"hasTruncateMarker":true,"authors":[{"name":"ks6088ts","title":"Software Engineer / Solutions Architect","url":"https://github.com/ks6088ts","imageURL":"https://github.com/ks6088ts.png","key":"ks6088ts"}],"frontMatter":{"slug":"terraform-provider-soracom","title":"Terraform provider for SORACOM \u3092\u4f5c\u3063\u3066 Azure Functions \u3068\u9023\u643a\u3057\u3066\u307f\u305f","authors":"ks6088ts","tags":["terraform","azure"]},"prevItem":{"title":"GitHub Pages by Docusaurus","permalink":"/en/blog/gh-pages-by-docusaurus"}},"content":"Terraform \u3067 SORACOM \u306e\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u3092\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001SORACOM \u5411\u3051\u306e Terraform \u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u958b\u767a\u306b\u4fc2\u308b\u77e5\u898b\u3084\u3001Terraform provider for SORACOM \u3067 SORACOM \u306e\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u3092\u3057\u3066\u307f\u305f\u4f8b\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002  \\n\\n1. Terraform \u306e\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u6982\u8981\\n2. SORACOM \u5411\u3051\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u5b9f\u88c5\\n3. SORACOM x Azure Functions \u306e\u5229\u7528\u4f8b\\n\\n\u3068\u3044\u3063\u305f\u7ae0\u7acb\u3066\u3067\u307e\u3068\u3081\u3066\u307f\u307e\u3059\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n---\\n\\n## **1. Terraform \u306e\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u6982\u8981**\\n\\n### **Why IaC ?**\\n\\n\u305d\u3082\u305d\u3082\u306a\u305c IaC \u304c\u5fc5\u8981\u306a\u306e\u304b\uff1f\u3068\u3044\u3046\u3068\u3053\u308d\u304b\u3089\u3001\u79c1\u306e\u904e\u53bb\u306e\u7d4c\u9a13\u3092\u5143\u306b\u6574\u7406\u3057\u3066\u307f\u307e\u3059\u3002  \\n\\n\u65b0\u3057\u3044\u3082\u306e\u306f\u305f\u3044\u3066\u3044\u6016\u3044\u3082\u306e\u3067\u3001\u521d\u898b\u3067\u306f `\u300c\u30a6\u30a7\u30d6\u30b3\u30f3\u30bd\u30fc\u30eb\u3068\u304b CLI \u30c4\u30fc\u30eb\u3067\u5341\u5206\u3067\u3057\u3087\uff1fIaC \u30c4\u30fc\u30eb\u3063\u3066\u3044\u3089\u306a\u304f\u306a\u3044\u3067\u3059\u304b\uff1f\u300d` \u3068\u3044\u3063\u305f\u6c17\u6301\u3061\u3067\u3057\u305f\u3002  \\n\u78ba\u304b\u306b CLI \u30c4\u30fc\u30eb\u306f\u4f55\u304b\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u64cd\u4f5c\u3084\u72b6\u614b\u306e\u78ba\u8a8d\u306a\u3069\u306e\u76ee\u7684\u3067\u624b\u8efd\u306b\u5229\u7528\u3067\u304d\u3066\u4fbf\u5229\u3067\u3059\u3002CLI \u30c4\u30fc\u30eb\u3092\u99c6\u4f7f\u3057\u305f\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3082 IaC \u30c4\u30fc\u30eb\u3067\u5b9f\u65bd\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u3092 \\"\u6280\u8853\u7684\u306b\u306f\\" \u5b9f\u73fe\u3067\u304d\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002  \\n\u5b9f\u969b\u306b CLI \u3067\u30ea\u30bd\u30fc\u30b9\u306e\u7ba1\u7406\u3092\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u624b\u7d9a\u304d\u7684\u306a\u51e6\u7406\u3092\u66f8\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u30ea\u30bd\u30fc\u30b9\u306e\u5dee\u5206\u30c1\u30a7\u30c3\u30af\u3084\u500b\u3005\u306e\u51e6\u7406\u306e\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306a\u3069\u3001\u5b9f\u306f\u53b3\u5bc6\u306b\u3084\u308d\u3046\u3068\u3059\u308b\u3068\u8003\u616e\u3059\u308b\u3053\u3068\u304c\u591a\u304f\u3066\u306a\u304b\u306a\u304b\u5927\u5909\u3067\u3059\u3002\u7d50\u679c\u3001\u8907\u96d1\u3067\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u304c\u56f0\u96e3\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u51fa\u6765\u4e0a\u304c\u3063\u305f\u308a\u3057\u307e\u3059\u3002  \\n\u3068\u307e\u3041\u3053\u3053\u307e\u3067\u624b\u3092\u52d5\u304b\u3057\u3066\u307f\u3066\u3088\u3046\u3084\u304f\u91cd\u3044\u8170\u3092\u4e0a\u3052\u3066 IaC \u30c4\u30fc\u30eb\u3092\u89e6\u3063\u3066\u307f\u308b\u304b\u3001\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u5b9f\u969b\u306b\u4f7f\u3063\u3066\u307f\u308b\u3068\u3001CLI \u3067\u8003\u616e\u3059\u308b\u5fc5\u8981\u306e\u3042\u3063\u305f\u5dee\u5206\u30c1\u30a7\u30c3\u30af\u3084\u3089\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3068\u3044\u3063\u305f\u8907\u96d1\u3055\u3092\u30c4\u30fc\u30eb\u304c\u4e38\u3063\u3068\u9762\u5012\u3092\u898b\u3066\u304f\u308c\u308b\u304a\u304b\u3052\u3067\u3001\u671b\u307e\u3057\u3044\u30ea\u30bd\u30fc\u30b9\u306e\u72b6\u614b\u3092\u5ba3\u8a00\u7684\u306b\u8a18\u8ff0\u3057\u3066\u30c4\u30fc\u30eb\u306b\u55b0\u308f\u305b\u308b\u3060\u3051\u306b\u306a\u308b\u306e\u3067\u3059\u3002\u30ea\u30bd\u30fc\u30b9\u8a2d\u5b9a\u3092\u74b0\u5883\u306e\u518d\u73fe\u6027\u3092\u3082\u305f\u305b\u3066\u79fb\u7ba1\u3059\u308b\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u7c21\u5358\u306b\u306a\u308a\u307e\u3059\u3002\u958b\u767a\u8005\u4f53\u9a13\u304c\u98db\u8e8d\u7684\u306b\u9032\u6b69\u3057\u305f\u611f\u3058\u304c\u3057\u307e\u3059\u3002  \\nIaC \u30c4\u30fc\u30eb\u304c\u3053\u308c\u3060\u3051\u4fbf\u5229\u3060\u3068\u3001\u3044\u3064\u3044\u304b\u306a\u308b\u6642\u3082 IaC \u304c\u3057\u305f\u304f\u306a\u308b\u75c5\u306b\u99c6\u3089\u308c\u3066\u3061\u3087\u3063\u3068\u3057\u305f\u691c\u8a3c\u3068\u304b\u3067 IaC \u3059\u308b\u30aa\u30fc\u30d0\u30fc\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u3092\u3057\u305f\u6642\u671f\u3082\u3042\u308a\u307e\u3057\u305f\u3002[TypeScript\u4f9d\u5b58\u306e\u60aa\u5faa\u74b0](https://www.google.com/search?q=Typescript%E4%BE%9D%E5%AD%98%E3%81%AE%E6%82%AA%E5%BE%AA%E7%92%B0&sxsrf=ALiCzsbbYTvTMh39om3QUsgRGj7nvS3Z4w:1668426679347&source=lnms&tbm=isch&sa=X&ved=2ahUKEwj7iLncza37AhVZmFYBHe94BKoQ_AUoAXoECBkQAw&biw=1080&bih=1724&dpr=1) \u3092\u60f3\u8d77\u3057\u307e\u3059\u306d\u3002  \\nIaC \u5316\u3059\u308b\u306b\u3082\u4f5c\u696d\u30b3\u30b9\u30c8\u304c\u304b\u304b\u308b\u306e\u3067\u3001`\u4ed6\u8005\u3068\u5354\u696d\u3059\u308b`\u3068\u304b`\u69cb\u7bc9\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u304c\u5927\u898f\u6a21\u30fb\u8907\u96d1`\u306b\u306a\u3063\u3066\u304d\u305f\u3068\u304d\u306b\u3001IaC \u3092\u691c\u8a0e\u3059\u308b\u3068\u30d0\u30e9\u30f3\u30b9\u304c\u826f\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\\n\\n- CLI \u306f\u3042\u304f\u307e\u3067\u30ef\u30f3\u30b7\u30e7\u30c3\u30c8\u306e\u30bf\u30b9\u30af\u306e\u5b9f\u884c\u3068\u3044\u3063\u305f `\u52d5\u7684\u306a\u64cd\u4f5c` \u3092\u652f\u63f4\u3059\u308b\u30c4\u30fc\u30eb\\n- IaC \u30c4\u30fc\u30eb\u306f\u30ea\u30bd\u30fc\u30b9\u306e\u69cb\u7bc9\u3068\u3044\u3063\u305f`\u9759\u7684\u306a\u64cd\u4f5c`\u3092\u652f\u63f4\u3059\u308b\u30c4\u30fc\u30eb\\n\\n\u3068\u3044\u3046\u8a8d\u8b58\u3092\u6301\u3063\u3066\u3001\u7528\u6cd5\u5bb9\u91cf\u3092\u5b88\u3063\u3066\u6b63\u3057\u304f\u4f7f\u3044\u5206\u3051\u308b\u306e\u304c\u826f\u3055\u305d\u3046\u3067\u3059\u3002\\n\\n### **Terraform \u3063\u3066\u4f55\uff1f**\\n\\nIaC \u30c4\u30fc\u30eb\u3068\u3057\u3066\u30ab\u30c6\u30b4\u30e9\u30a4\u30ba\u3055\u308c\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3068\u3057\u3066\u306f\u3001[AWS CDK](https://aws.amazon.com/jp/cdk/)\u30fb[Terraform](https://www.terraform.io/)\u30fb[Bicep](https://learn.microsoft.com/ja-jp/azure/azure-resource-manager/bicep/overview?tabs=bicep) \u306a\u3069\u304c\u3042\u308a\u307e\u3059\u3002  \\n\u4e2d\u3067\u3082 Terraform \u306f\u3001\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u3068\u547c\u3070\u308c\u308b pluggable \u306a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u304c\u5b58\u5728\u3057\u3066\u3044\u3066\u3001\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u5b9f\u88c5\u3057\u3055\u3048\u3059\u308c\u3070 API \u3092\u516c\u958b\u3057\u3066\u3044\u308b Web \u30b5\u30fc\u30d3\u30b9\u306b\u5bfe\u3057\u3066\u30ea\u30bd\u30fc\u30b9\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002  \\nAWS, Azure, GCP \u306a\u3069\u306e\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u306f\u3082\u3061\u308d\u3093\u306e\u3053\u3068\u3001\u65e2\u306b\u6570\u591a\u304f\u306e\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u304c [Terraform Registry](https://registry.terraform.io/) \u306b\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4f7f\u3044\u305f\u3044\u30b5\u30fc\u30d3\u30b9\u5411\u3051\u306e\u30d7\u30ed\u30d0\u30a4\u30c0\u304c\u7121\u3044\u304b\u691c\u7d22\u3057\u3066\u307f\u308b\u3068\u9762\u767d\u3044\u3067\u3059\u3002\\n\\n---\\n### **\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u958b\u767a\u306b\u5f79\u7acb\u3064\u8cc7\u6599**\\n\\n\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u5b9f\u88c5\u306b\u95a2\u3057\u3066\u3001\u79c1\u304c\u8aad\u3093\u3067\u53c2\u8003\u306b\u306a\u3063\u305f\u8cc7\u6599\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002  \\n\\n- **[HashiCorp / What is Terraform?](https://developer.hashicorp.com/terraform/intro)**\\n    - \u307e\u305a\u306f\u4e00\u6b21\u60c5\u5831\u306b\u3042\u305f\u308b\u306e\u304c\u8ce2\u660e\u3067\u3059\u3002HashiCorp \u516c\u5f0f\u306e\u60c5\u5831\u306f\u304b\u306a\u308a\u6574\u7406\u3055\u308c\u3066\u3044\u3066\u8aad\u307f\u3084\u3059\u3044\u3067\u3059\u3002\\n- **[Call APIs with Custom SDK Providers](https://developer.hashicorp.com/terraform/tutorials/providers)**\\n    - \u3068\u308a\u3042\u3048\u305a\u4f5c\u3063\u3066\u307f\u3066`\u5b8c\u5168\u306b\u7406\u89e3\u3057\u305f`\u72b6\u614b\u306b\u306a\u308b\u305f\u3081\u306b\u306f\u3001\u3053\u3061\u3089\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u4e00\u5468\u3059\u308b\u306e\u304c\u304a\u3059\u3059\u3081\u3067\u3059\u3002\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u5b9f\u88c5\u304b\u3089\u3001Terraform Registry \u306b\u516c\u958b\u307e\u3067\u30ad\u30e3\u30c3\u30c1\u30a2\u30c3\u30d7\u3067\u304d\u307e\u3059\u3002\u30ea\u30ea\u30fc\u30b9\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092 GitHub Actions \u3067\u69cb\u7bc9\u3059\u308b\u624b\u9806\u306a\u3093\u304b\u3082\u518d\u5229\u7528\u6027\u304c\u9ad8\u304f\u3066\u79c0\u9038\u3067\u3059\u3002  \\n- **[\u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u305f\u3061\u306eGo\u8a00\u8a9e](https://amzn.to/3fPfHuW)**\\n    - \u3053\u308c\u307e\u3067\u5168\u90e8\u82f1\u8a9e\u306e\u6587\u732e\u3092\u7d39\u4ecb\u3057\u307e\u3057\u305f\u304c\u3001\u300c\u3044\u3084\u3044\u3084\u3001\u65e5\u672c\u8a9e\u304c\u826f\u3044\u3093\u3060\u3051\u3069...\u300d\u3068\u3044\u3046\u65b9\u3082\u3054\u5b89\u5fc3\u3092\u3002`\u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u305f\u3061\u306eGo\u8a00\u8a9e: 3.5 Custom Terraform Provider \u306b\u3088\u308b\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u81ea\u52d5\u5316` \u306b\u3082\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u4f5c\u308a\u65b9\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\\n\\n---\\n\\n\u3053\u3053\u307e\u3067\u8a18\u4e8b\u3092\u4e00\u901a\u308a\u8aad\u3081\u3070\u3001\u300c\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306a\u3093\u3068\u306a\u304f\u5b9f\u88c5\u3067\u304d\u305d\u3046\u300d\u306a\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\u3044\u3056\u958b\u767a\u3092\u9032\u3081\u3066\u307f\u308b\u3068\u3001\\n\\n- \u5177\u4f53\u7684\u306b\u3069\u3093\u306a\u5358\u4f4d\u3067\u8cac\u52d9\u3092\u5206\u5272\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u843d\u3068\u3057\u8fbc\u3080\u304b\\n- CI/CD \u306a\u3069\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3063\u3066\u3069\u3046\u69cb\u7bc9\u3057\u305f\u3089\u3044\u3044\u306e\u3060\u308d\u3046\u304b\\n\\n\u3068\u3044\u3063\u305f\u60a9\u307f\u304c\u51fa\u3066\u304f\u308b\u30b1\u30fc\u30b9\u3082\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\u305d\u3093\u306a\u6642\u306f\u65e2\u5b58\u306e\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u5b9f\u88c5\u306e\u4e2d\u306b\u7b54\u3048\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070 [hashicorp/terraform-provider-aws](https://github.com/hashicorp/terraform-provider-aws) \u3067\u306f\u3001\\n\\n- `internal/conns` \u4ee5\u4e0b\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5468\u308a\u3092\u96c6\u7d04\\n- `internal/service` \u914d\u4e0b\u306b\u5404\u7a2e\u30ea\u30bd\u30fc\u30b9\u3092\u30cf\u30f3\u30c9\u30eb\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u914d\u7f6e\\n\\n\u3068\u3044\u3063\u305f\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u300cauthentication \u5468\u308a\u306f conns \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u96c6\u7d04\u3059\u308b\u300d\u3068\u304b\u300cservice \u30d1\u30c3\u30b1\u30fc\u30b8\u4ee5\u4e0b\u3067\u30b5\u30fc\u30d3\u30b9\u306e\u8ffd\u52a0\u6a5f\u80fd\u3092\u6a2a\u306b\u62e1\u5f35\u3057\u3066\u3044\u304f\u300d\u3068\u3044\u3063\u305f\u53c2\u8003\u306b\u306a\u308b\u8a2d\u8a08\u304c\u591a\u3005\u3042\u308a\u307e\u3057\u305f\u3002\u3069\u3093\u306a\u5f62\u3067\u3042\u308c\u8a2d\u8a08\u30ec\u30d9\u30eb\u3067\u6697\u9ed9\u306e\u524d\u63d0\u304c\u6c7a\u307e\u3063\u3066\u3044\u308b\u3068\u5b9f\u88c5\u65b9\u6cd5\u304c\u4e00\u610f\u306b\u306a\u308a\u3001\u958b\u767a\u306e\u751f\u7523\u6027\u3092\u4e0a\u3052\u3066\u304f\u308c\u308b\u306e\u3067\u4e88\u3081\u6c7a\u3081\u3066\u304a\u304f\u3068\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\\n\\nCI/CD \u306b\u3064\u3044\u3066\u306f\u3001\u4e0a\u3067\u8a00\u53ca\u3057\u305f HashiCorp \u3055\u3093\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u8a18\u4e8b [Release and Publish a Provider to the Terraform Registry](https://developer.hashicorp.com/terraform/tutorials/providers/provider-release-publish) \u306b\u3001`Git tag \u3092\u6253\u3064\u3068 GitHub Actions \u3067 release \u30b8\u30e7\u30d6\u304c\u56de\u3063\u3066 Terraform Registry \u306b\u81ea\u52d5\u7684\u306b\u516c\u958b\u3055\u308c\u308b` \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u8a18\u8ff0\u304c\u3042\u308a\u975e\u5e38\u306b\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u6700\u7d42\u7684\u306b Terraform Registry \u3078\u306e\u516c\u958b\u3082\u60f3\u5b9a\u3059\u308b\u3068\u3001\u3044\u308d\u3093\u306a\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u5411\u3051\u306b\u30d0\u30a4\u30ca\u30ea\u3092\u751f\u6210\u3059\u308b\u5fc5\u8981\u304c\u51fa\u3066\u304d\u307e\u3059\u3002\u3044\u3061\u3044\u3061\u6e29\u304b\u307f\u306e\u3042\u308b\u624b\u4f5c\u696d\u3092\u3057\u3066\u3044\u308b\u3068\u65e5\u304c\u66ae\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u306e\u3067\u3001[goreleaser/goreleaser-action](https://github.com/goreleaser/goreleaser-action) \u3092\u6d3b\u7528\u3057\u3066\u30ea\u30ea\u30fc\u30b9\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092 GitHub Actions \u3067\u69cb\u7bc9\u3057\u3066\u304a\u304f\u3068\u826f\u3044\u3067\u3059\u3002\\n\\n### **API \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f5c\u308b**\\n\\n\u65e2\u5b58\u306e\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u5b9f\u88c5\u3092\u3044\u304f\u3064\u304b\u898b\u308b\u3068\u308f\u304b\u308b\u3053\u3068\u3067\u3059\u304c\u3001\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u5b9f\u88c5\u306b\u306f\u539f\u5247\u7684\u306b API \u30b3\u30fc\u30eb\u306e\u305f\u3081\u306e\u5b9f\u88c5\u8a73\u7d30\u306f\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3044\u305a\u308c\u3082 API \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea or SDK \u306b\u5b9f\u88c5\u8a73\u7d30\u3092\u62b1\u3048\u8fbc\u3093\u3067\u3082\u3089\u3063\u3066\u3001provider \u306f\u305d\u308c\u3092\u5229\u7528\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u306e\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002  \\nTerraform plugin \u304c\u3069\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b\u306e\u304b\u306e\u6982\u7565\u56f3\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002HashiCorp \u793e\u306e\u8cc7\u6599\u3067\u3082\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u5207\u308a\u96e2\u3059\u8a2d\u8a08\u3092\u63a8\u5968\u3057\u3066\u3044\u307e\u3059\u3002  \\n\\n![Overview](https://content.hashicorp.com/api/assets?product=tutorials&version=main&asset=public%2Fimg%2Fterraform%2Fproviders%2Fcore-plugins-api.png)\\n\\n!!! tip\\n    Tip: We recommend Terraform plugins consume an external API client library, as shown in the diagram above. If one doesn\'t exist, you should create one. This is aligned with modern coding practices of keeping software projects modular.  \\n    \u51fa\u5178: [Perform CRUD Operations with Providers / Terraform plugins](https://developer.hashicorp.com/terraform/tutorials/configuration-language/provider-use?in=terraform%2Fconfiguration-language&utm_offer=ARTICLE_PAGE#terraform-plugins)\\n\\n\u306a\u304a\u3001HashiCorp \u63d0\u4f9b\u306e plugin \u30e9\u30a4\u30d6\u30e9\u30ea\u304c Go \u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8a00\u8a9e\u3082 Go \u304c\u3088\u3044\u3067\u3059\u3002\\n\\n---\\n\\n## **2. SORACOM \u5411\u3051\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u5b9f\u88c5**\\n\\nSORACOM \u306f SORACOM Funk, SORACOM Funnel \u3068\u3044\u3063\u305f\u5404\u7a2e\u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u3068\u7c21\u5358\u306b\u63a5\u7d9a\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002SORACOM \u304c Terraform \u5bfe\u5fdc\u3059\u308b\u3068\u3053\u308c\u307e\u3067\u624b\u52d5\u3067\u3084\u3063\u3066\u3044\u305f\u8af8\u3005\u306e\u9023\u643a\u8a2d\u5b9a\u4f5c\u696d\u3092\u3059\u3079\u3066 Terraform \u3067\u5b8c\u7d50\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u4fbf\u5229\u306a\u306e\u3067\u306f\uff1f\u3068\u5984\u60f3\u304c\u81a8\u3089\u307f\u3001\u4eca\u56de SORACOM \u5411\u3051\u306b\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u958b\u767a\u3059\u308b\u306b\u81f3\u308a\u307e\u3057\u305f\u3002\\n\\n\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u672c\u4f53\u306f Terraform Registry \u306e [ks6088ts/soracom](https://registry.terraform.io/providers/ks6088ts/soracom/latest) \u306b\u516c\u958b\u6e08\u3067\u3059\u306e\u3067\u3059\u3050\u306b\u89e6\u308c\u308b\u72b6\u614b\u3067\u3059\u30022022/12\u6708\u6642\u70b9\u3067 1000 \u56de\u8fd1\u304f\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\u307e\u3060\u307e\u3060\u5de5\u4e8b\u4e2d\u306a\u30dd\u30a4\u30f3\u30c8\u304c\u591a\u3005\u3042\u308a\u307e\u3057\u3066\u3001\u6a5f\u80fd\u304c\u8db3\u308a\u3066\u306a\u304b\u3063\u305f\u308a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u624b\u8584\u3060\u3063\u305f\u308a\u3057\u3066\u3044\u308b\u306e\u3067 contribution \u306f\u5927\u6b53\u8fce\u3067\u3059\u3002  \\n\u57fa\u672c\u7684\u306b\u306f [examples](https://github.com/ks6088ts/terraform-provider-soracom/tree/main/examples) \u3092\u5b9f\u884c\u3057\u3066\u3044\u305f\u3060\u304f\u3068\u96f0\u56f2\u6c17\u304c\u3064\u304b\u3081\u308b\u306f\u305a\u3067\u3059\u3002  \\nSORACOM \u5411\u3051\u306e Terraform Provider \u306e\u5b9f\u88c5\u4f5c\u696d\u3068\u3057\u3066\u3001\u5927\u304d\u304f 2 \u3064\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u958b\u767a\u3092\u3057\u307e\u3057\u305f\u3002\\n\\n- Step 1. API \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea [ks6088ts/soracom-sdk-go](https://github.com/ks6088ts/soracom-sdk-go) \u306e\u958b\u767a\\n- Step 2. \u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u672c\u4f53 [ks6088ts/terraform-provider-soracom](https://github.com/ks6088ts/terraform-provider-soracom) \u306e\u958b\u767a\\n\\n### **Step 1. API \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u958b\u767a**\\n\\nOpenAPI v3 \u306b\u5bfe\u5fdc\u3057\u305f [SORACOM API \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](https://users.soracom.io/ja-jp/tools/api/reference/) \u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u306e\u30b9\u30ad\u30fc\u30de\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u6a5f\u68b0\u7684\u306b Go \u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u751f\u6210\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002  \\n\u305f\u3063\u305f 2 steps \u3067\u3059\u3002\\n\\n1\uff0e\u30b9\u30ad\u30fc\u30de\u30d5\u30a1\u30a4\u30eb [soracom-api.ja.yaml](https://users.soracom.io/swagger/soracom-api.ja.yaml) \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001`specs/api.yaml` \u306b\u7f6e\u304d\u307e\u3059\u3002\\n\\n```shell\\ncurl -sSfL https://users.soracom.io/swagger/soracom-api.ja.yaml --output specs/api.yaml\\n```\\n\\n2\uff0e[OpenAPI Generator](https://openapi-generator.tech/) \u3092\u4f7f\u3063\u3066 1 \u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u4ed5\u69d8\u66f8\u304b\u3089\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u751f\u6210\u3057\u307e\u3059\u3002\\n\\n```shell\\nnpx @openapitools/openapi-generator-cli generate \\\\\\n        --input-spec specs/api.yaml \\\\\\n        --generator-name go \\\\\\n        --output generated/api \\\\\\n        --package-name api \\\\\\n        --git-host github.com \\\\\\n        --git-user-id ks6088ts \\\\\\n        --git-repo-id soracom-sdk-go \\\\\\n        --http-user-agent ks6088ts/soracom-sdk-go/0.0.3\\n```\\n\\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3001\u7d50\u69cb\u67d4\u8edf\u306b\u6240\u671b\u306e\u8a2d\u5b9a\u3092\u6ce8\u5165\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002  \\n\u3053\u3053\u3067\u306f user agent \u3084\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3092\u597d\u307f\u306e\u8a2d\u5b9a\u306b\u3057\u3066\u30b3\u30fc\u30c9\u751f\u6210\u3057\u3066\u3044\u307e\u3059\u3002  \\n`generated/api` \u4ee5\u4e0b\u306b *.go \u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002\u3053\u3053\u3067\u751f\u6210\u3055\u308c\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u306f [ks6088ts/soracom-sdk-go](https://github.com/ks6088ts/soracom-sdk-go) \u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002\\n\\n#### GitHub Actions \u3092\u4f7f\u3063\u3066\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306e CI \u3092\u307e\u308f\u3057\u3066\u307f\u308b\\n\\n\u81ea\u52d5\u751f\u6210\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u5272\u3068\u3059\u3050\u4f7f\u3048\u307e\u3057\u305f\u304c\u3001\u5ff5\u306e\u305f\u3081\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5358\u4f53\u30c6\u30b9\u30c8\u3082\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u79c1\u306f commit \u3092\u30c8\u30ea\u30ac\u30fc\u3068\u3057\u3066\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306e E2E \u30c6\u30b9\u30c8\u3092 GitHub Actions \u3067\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\\n\\n\u81ea\u52d5\u751f\u6210\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066 CI \u30a4\u30f3\u30d5\u30e9\u4e0a\u3067 API \u30b3\u30fc\u30eb\u3059\u308b\u30c6\u30b9\u30c8\u3092\u5b9f\u65bd\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u8a8d\u8a3c\u60c5\u5831(SORACOM \u3067\u3044\u3046\u3068 auth key, auth key id)\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u8a8d\u8a3c\u30ad\u30fc\u306f\u5f53\u7136\u79d8\u533f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u3001GitHub \u306e Encrypted secrets \u3092\u5229\u7528\u3057\u307e\u3059\u3002\u624b\u9806\u306f [GitHub Docs / Encrypted secrets](https://docs.github.com/en/actions/security-guides/encrypted-secrets) \u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002GitHub \u5074\u306e\u8a2d\u5b9a\u304c\u7d42\u308f\u308c\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u3067\u53c2\u7167\u3059\u308b\u3060\u3051\u3067\u3059\u3002\\n`.github/workflows/` \u306b [test.yml](https://github.com/ks6088ts/soracom-sdk-go/blob/main/.github/workflows/test.yml) \u3092\u7f6e\u304f\u3060\u3051\u3067 CI \u304c\u56de\u308a\u307e\u3059\u3002\u4fbf\u5229\u306a\u4e16\u306e\u4e2d\u306b\u306a\u3063\u305f\u3082\u306e\u3067\u3059\u306d\u3002\\n\\n```yaml title=\\".github/workflows/test.yml\\"\\n# \u4e00\u90e8\u3092\u629c\u7c8b\\n      - name: Run CI test\\n        run: make ci-test GOPATH=/home/runner/go\\n        env:\\n          SORACOM_AUTH_KEY: ${{ secrets.SORACOM_AUTH_KEY }}\\n          SORACOM_AUTH_KEY_ID: ${{ secrets.SORACOM_AUTH_KEY_ID }}\\n          COVERAGE_TYPE: ${{ secrets.COVERAGE_TYPE }}\\n```\\n\\n#### \u30c6\u30b9\u30c8\u7528\u306e SORACOM \u8a8d\u8a3c\u30ad\u30fc\u306e\u6a29\u9650\u306f\u6700\u5c0f\u306b\\n\\nSORACOM \u3067\u306f SAM \u30e6\u30fc\u30b6\u3068\u3044\u3046\u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3057\u3066 API \u306e\u5b9f\u884c\u6a29\u9650\u3092\u5236\u5fa1\u3057\u305f\u30ad\u30fc\u3092\u6255\u3044\u3060\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002SAM \u30e6\u30fc\u30b6\u306e\u6a29\u9650\u8a2d\u5b9a\u65b9\u6cd5\u306f [SORACOM User \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 / \u6a29\u9650\u8a2d\u5b9a\u306e\u305f\u3081\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u69cb\u6587](https://users.soracom.io/ja-jp/docs/sam/permission/#)\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002  \\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af\u3092\u6700\u5c0f\u9650\u306b\u3059\u308b\u305f\u3081\u306b\u3082\u6a29\u9650\u306f\u5fc5\u8981\u6700\u4f4e\u9650\u306e\u3082\u306e\u306b\u3057\u307e\u3059\u3002\u5b9f\u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u7d30\u304b\u3044\u64cd\u4f5c\u3092 CI \u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u61f8\u5ff5\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u691c\u8a3c\u3092\u76ee\u7684\u3068\u3057\u3066\u4f7f\u3048\u308b [SORACOM API Sandbox](https://users.soracom.io/ja-jp/tools/api-sandbox/) \u3092\u4f7f\u3063\u3066\u3082\u3088\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\\n\\n### **Step 2. \u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u672c\u4f53\u306e\u958b\u767a**\\n\\n\u307e\u305a\u306f\u3001\u30e6\u30fc\u30b6\u304c\u89e6\u308b HCL \u306e\u5916\u90e8\u4ed5\u69d8\u3092\u8a2d\u8a08\u3059\u308b\u3053\u3068\u304b\u3089\u958b\u767a\u3092\u59cb\u3081\u307e\u3059\u3002  \\n\u57fa\u672c\u7684\u306b\u306f\u3001\u5bfe\u8c61\u3068\u306a\u308b\u30af\u30e9\u30a6\u30c9\u30d7\u30ed\u30d0\u30a4\u30c0\u306e API \u305d\u306e\u3082\u306e\u3068\u4e00\u5bfe\u4e00\u5bfe\u5fdc\u3055\u305b\u305f\u30b9\u30ad\u30fc\u30de\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u591a\u3044\u3067\u3059\u3002\u305f\u3060\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u5916\u90e8\u4ed5\u69d8\u3068\u3057\u3066\u9732\u51fa\u3059\u3079\u304d\u3067\u306f\u306a\u3044\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u3042\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u306e\u3061\u306e\u4f7f\u3044\u52dd\u624b\u3084\u5f8c\u65b9\u4e92\u63db\u6027\u62c5\u4fdd\u306e\u3053\u3068\u3092\u8003\u3048\u3066\u3001\u5229\u7528\u8005\u89b3\u70b9\u3067\u4e0d\u8981\u306a\u3082\u306e\u306f\u524a\u9664\u3057\u3066\u5fc5\u8981\u5341\u5206\u306a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306b\u306a\u308b\u307e\u3067\u30c0\u30a4\u30a8\u30c3\u30c8\u3055\u305b\u308b\u3068\u5c0f\u56de\u308a\u304c\u5229\u304f\u4ed5\u69d8\u306b\u53ce\u675f\u3059\u308b\u3068\u601d\u3044\u307e\u3059\u3002  \\n\\n\u5916\u90e8\u4ed5\u69d8\u306e\u8a2d\u8a08\u3092\u3057\u3066\u3044\u304f\u4e2d\u3067\u3001**\u4f9d\u5b58\u95a2\u4fc2\u306b\u3042\u308b\u8907\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u95a2\u4fc2\u3092\u3069\u3046\u8868\u73fe\u3059\u308b\u304b** \u3068\u3044\u3046\u3068\u3053\u308d\u3082\u5c11\u3057\u60a9\u307f\u307e\u3057\u305f\u3002  \\n\u4f8b\u3048\u3070\u30ea\u30bd\u30fc\u30b9 A \u3068\u30ea\u30bd\u30fc\u30b9 B \u304c\u4f9d\u5b58\u95a2\u4fc2\u306b\u3042\u308b\u3053\u3068\u3092\u8868\u73fe\u3059\u308b\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3088\u3044\u304b\uff1f\u3068\u3044\u3063\u305f\u70b9\u3067\u3059\u3002  \\n\u5b9f\u306f\u3053\u306e\u624b\u306e\u60a9\u307f\u3082\u65e2\u306b\u89e3\u6c7a\u3055\u308c\u3066\u3044\u3066\u3001\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u306e\u4e16\u754c\u3067\u3088\u304f\u898b\u304b\u3051\u308b\u300c\u30ea\u30bd\u30fc\u30b9 A \u3092\u30ea\u30bd\u30fc\u30b9 B \u306b\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u30ea\u30bd\u30fc\u30b9 C\u300d\u3092\u65b0\u305f\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u591a\u3044\u3088\u3046\u3067\u3059\u3002\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u5bfe\u8c61\u306e\u30a6\u30a7\u30d6\u30b5\u30fc\u30d3\u30b9\u306b\u306f C \u3068\u3044\u3046\u30ea\u30bd\u30fc\u30b9\u306e\u7269\u7406\u7684\u306a\u5b9f\u4f53\u306f\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u5916\u90e8\u4ed5\u69d8\u306b\u304a\u3044\u3066\u306e\u307f\u5b58\u5728\u3059\u308b\u4eee\u60f3\u7684\u306a\u30ea\u30bd\u30fc\u30b9 C \u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u3001A \u3068 B \u304c\u76f4\u63a5\u4f9d\u5b58\u95a2\u4fc2\u3092\u6301\u305f\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u306e\u3067\u3059\u3002  \\n`e.g. aws_internet_gateway_attachment, azurerm_virtual_machine_data_disk_attachment`\\n\\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u95a2\u3057\u3066\u306f\u3001[tfplugindocs](https://github.com/hashicorp/terraform-plugin-docs) \u3092\u4f7f\u3046\u3068\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u306e Go \u306e\u30b3\u30fc\u30c9\u304b\u3089\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u751f\u6210\u3055\u308c\u3001**\u30b3\u30fc\u30c9\u3068\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u540c\u671f** \u3055\u308c\u307e\u3059\u3002  \\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u66f4\u65b0\u306f\u5fd8\u308c\u304c\u3061\u306a\u306e\u3067\u3001CI \u4e0a\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u751f\u6210\u3057\u3066 commit \u6e08\u307f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3068 diff \u3092\u53d6\u308b\u306a\u3069\u3057\u3066\u3001\u4ed5\u7d44\u307f\u3067\u30d2\u30e5\u30fc\u30de\u30f3\u30a8\u30e9\u30fc\u3092\u64b2\u6ec5\u3059\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u63a1\u308b\u3068\u7cbe\u795e\u885b\u751f\u4e0a\u826f\u3044\u3067\u3059\u3002\u79c1\u306f CI \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u4e2d\u306b [docs-diff](https://github.com/ks6088ts/terraform-provider-soracom/blob/main/terraform.mk#L26) \u30b3\u30de\u30f3\u30c9\u306b\u3042\u308b\u3088\u3046\u306a\u5f62\u3067\u3001CI \u4e0a\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u751f\u6210\u51e6\u7406\u3092\u5b9f\u884c\u3057\u305f\u3042\u3068 git diff \u3092\u5b9f\u884c\u3057\u3066\u66f4\u65b0\u5fd8\u308c\u3092\u691c\u77e5\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\\n\\n---\\n\\n## **3. SORACOM Funk x Azure Functions \u306e\u5229\u7528\u4f8b**\\n\\n\u6700\u5f8c\u306b\u3001SORACOM Funk \u3068 Azure Functions \u306e\u9023\u643a\u3092 Terraform \u3067\u69cb\u7bc9\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f [group_configuration_funk_azure_functions_python](https://github.com/ks6088ts/terraform-provider-soracom/tree/main/examples/group_configuration_funk_azure_functions_python) \u306b\u3042\u308a\u307e\u3059\u3002  \\n\u69cb\u6210\u56f3\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\\n\\n![group_configuration_funk_azure_functions_python](./group_configuration_funk_azure_functions_python.svg)\\n\\n\\n\u5b9f\u884c\u306b\u306fSORACOM \u306e\u8a8d\u8a3c\u60c5\u5831\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3068\u3001Azure \u306e\u8a8d\u8a3c\u60c5\u5831\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3084\u30ea\u30bd\u30fc\u30b9\u306e\u8a2d\u5b9a\u306a\u3069\u306f\u5404\u793e\u30e6\u30fc\u30b6\u30b5\u30a4\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\\n\\n- [SORACOM CLI \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b / \u30b9\u30c6\u30c3\u30d7 2: \u8a8d\u8a3c\u60c5\u5831\u3092\u6e96\u5099\u3059\u308b](https://users.soracom.io/ja-jp/tools/cli/getting-started/#%E3%82%B9%E3%83%86%E3%83%83%E3%83%97-2-%E8%AA%8D%E8%A8%BC%E6%83%85%E5%A0%B1%E3%82%92%E6%BA%96%E5%82%99%E3%81%99%E3%82%8B)\\n- [Azure \u306b\u5bfe\u3057\u3066 Terraform \u3092\u8a8d\u8a3c\u3059\u308b](https://learn.microsoft.com/ja-jp/azure/developer/terraform/authenticate-to-azure?tabs=bash)\\n\\n\u4ee5\u4e0b\u306e\u64cd\u4f5c\u3067\u30a4\u30f3\u30d5\u30e9\u30ea\u30bd\u30fc\u30b9\u304c\u69cb\u7bc9/\u524a\u9664\u304c\u3067\u304d\u307e\u3059\u3002\\n\\n```shell\\n# \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u53d6\u5f97\\ngit clone git@github.com:ks6088ts/terraform-provider-soracom.git\\ncd terraform-provider-soracom/examples/group_configuration_funk_azure_functions_python\\n\\n# \u30ea\u30bd\u30fc\u30b9\u306e\u69cb\u7bc9\\nterraform init\\nterraform apply\\n\\n# \u30ea\u30bd\u30fc\u30b9\u306e\u524a\u9664\\nterraform destroy -auto-approve\\n```\\n\\n### Azure \u306e\u30ea\u30bd\u30fc\u30b9\\n\\n- \u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\\n- \u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\\n- \u30b5\u30fc\u30d3\u30b9\u30d7\u30e9\u30f3\\n- \u95a2\u6570\u30a2\u30d7\u30ea\\n\\n\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\\n\\n```tf title=\\"azure.tf\\" linenums=\\"1\\"\\nprovider \\"azurerm\\" {\\n  features {}\\n}\\n\\nresource \\"azurerm_resource_group\\" \\"example\\" {\\n  name     = \\"${var.azure_prefix}-rg\\"\\n  location = var.azure_resource_location\\n}\\n\\nresource \\"azurerm_storage_account\\" \\"example\\" {\\n  name                     = \\"${var.azure_prefix}storageacct\\"\\n  resource_group_name      = azurerm_resource_group.example.name\\n  location                 = azurerm_resource_group.example.location\\n  account_tier             = \\"Standard\\"\\n  account_replication_type = \\"LRS\\"\\n}\\n\\nresource \\"azurerm_service_plan\\" \\"example\\" {\\n  name                = \\"${var.azure_prefix}-sp\\"\\n  location            = azurerm_resource_group.example.location\\n  resource_group_name = azurerm_resource_group.example.name\\n  os_type             = \\"Linux\\"\\n  sku_name            = \\"S1\\"\\n}\\n\\nresource \\"azurerm_linux_function_app\\" \\"example\\" {\\n  name                = \\"${var.azure_prefix}exampleapp\\"\\n  location            = azurerm_resource_group.example.location\\n  resource_group_name = azurerm_resource_group.example.name\\n  service_plan_id     = azurerm_service_plan.example.id\\n\\n  storage_account_name       = azurerm_storage_account.example.name\\n  storage_account_access_key = azurerm_storage_account.example.primary_access_key\\n\\n  site_config {\\n    application_stack {\\n      python_version = \\"3.9\\"\\n    }\\n  }\\n}\\n\\nresource \\"azurerm_function_app_function\\" \\"example\\" {\\n  name            = \\"example-python-function\\"\\n  function_app_id = azurerm_linux_function_app.example.id\\n  language        = \\"Python\\"\\n  file {\\n    name    = \\"__init__.py\\"\\n    content = file(\\"./app/__init__.py\\")\\n  }\\n  test_data = jsonencode({\\n    \\"name\\" = \\"Azure\\"\\n  })\\n  config_json = jsonencode({\\n    \\"scriptFile\\" = \\"__init__.py\\"\\n    \\"bindings\\" = [\\n      {\\n        \\"authLevel\\" = \\"function\\"\\n        \\"direction\\" = \\"in\\"\\n        \\"methods\\" = [\\n          \\"get\\",\\n          \\"post\\",\\n        ]\\n        \\"name\\" = \\"req\\"\\n        \\"type\\" = \\"httpTrigger\\"\\n      },\\n      {\\n        \\"direction\\" = \\"out\\"\\n        \\"name\\"      = \\"$return\\"\\n        \\"type\\"      = \\"http\\"\\n      },\\n    ]\\n  })\\n}\\n\\ndata \\"azurerm_function_app_host_keys\\" \\"example\\" {\\n  name                = \\"${var.azure_prefix}exampleapp\\"\\n  resource_group_name = azurerm_resource_group.example.name\\n  # https://github.com/hashicorp/terraform-provider-azurerm/issues/9869\\n  depends_on = [\\n    azurerm_linux_function_app.example\\n  ]\\n}\\n```\\n\\n### SORACOM \u306e\u30ea\u30bd\u30fc\u30b9\\n\\n- SIM \u30b0\u30eb\u30fc\u30d7\\n- \u8a8d\u8a3c\u60c5\u5831\\n- SORACOM Funk \u306e\u8a2d\u5b9a\\n\\n\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u8a8d\u8a3c\u60c5\u5831\u3068 SORACOM Funk \u306e\u8a2d\u5b9a\u306b\u306f\u3001\u4e0a\u8ff0\u3057\u305f Azure \u5074\u306e\u30ea\u30bd\u30fc\u30b9\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u3066\u9023\u643a\u3057\u307e\u3059\u3002\\n\\n```tf title=\\"soracom.tf\\" linenums=\\"1\\"\\nterraform {\\n  required_providers {\\n    soracom = {\\n      source = \\"ks6088ts/soracom\\"\\n    }\\n  }\\n}\\n\\nprovider \\"soracom\\" {\\n  profile = var.soracom_profile\\n}\\n\\nresource \\"soracom_group\\" \\"group\\" {\\n  tags = {\\n    name = var.soracom_group_name\\n  }\\n}\\n\\nresource \\"soracom_credentials\\" \\"credentials\\" {\\n  credentials_id = var.credentials_id\\n  description    = \\"API Token credentials via terraform-provider-soracom\\"\\n  type           = \\"api-token-credentials\\"\\n  credentials = {\\n    # Azure Functions \u306e\u8a2d\u5b9a\u3092\u53c2\u7167\\n    token = data.azurerm_function_app_host_keys.example.default_function_key\\n  }\\n}\\n\\nresource \\"soracom_group_configuration_funk\\" \\"group_configuration_funk\\" {\\n  group_id       = soracom_group.group.id\\n  enabled        = true\\n  credentials_id = soracom_credentials.credentials.credentials_id\\n  content_type   = \\"json\\"\\n\\n  # Azure Functions\\n  destination {\\n    provider     = \\"azure\\"\\n    service      = \\"function-app\\"\\n    # Azure Functions \u306e\u547c\u3073\u51fa\u3057 URL \u3092\u53c2\u7167\\n    resource_url = azurerm_function_app_function.example.invocation_url\\n  }\\n}\\n```\\n\\n\u4ee5\u4e0a\u3067\u30b5\u30f3\u30d7\u30eb\u306e\u7d39\u4ecb\u306f\u7d42\u4e86\u3067\u3059\u3002\\n\\n\u3053\u308c\u307e\u3067\u306f Azure \u306e\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3066\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\u305f\u3042\u3068\u3001SORACOM \u5074\u306e\u8a8d\u8a3c\u60c5\u5831\u3068 SORACOM Funk \u306e SIM \u30b0\u30eb\u30fc\u30d7\u306e\u8a2d\u5b9a\u3092\u30a6\u30a7\u30d6\u30b3\u30f3\u30bd\u30fc\u30eb\u304b SORACOM CLI \u3067\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002Terraform \u5bfe\u5fdc\u3059\u308b\u3053\u3068\u3067\u3001\u305d\u3046\u3044\u3063\u305f\u624b\u4f5c\u696d\u3082\u7121\u304f\u306a\u308a `terraform apply -auto-approve` \u3059\u308c\u3070\u30b5\u30af\u30c3\u3068 Azure\u30fbSORACOM \u53cc\u65b9\u3092\u9023\u643a\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u304c\u751f\u6210\u3067\u304d\u307e\u3059\u3002\u5f8c\u7247\u4ed8\u3051\u3082 `terraform destroy` \u3067\u3055\u3063\u3068\u7d42\u308f\u308a\u307e\u3059\u3002\u3088\u308a\u4e00\u5c64 SORACOM \u3092\u4fbf\u5229\u306b\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\\n\\n---\\n\\n## **\u30dd\u30a8\u30e0: \u30c4\u30fc\u30eb\u958b\u767a\u304b\u3089\u306e\u5b66\u3073**\\n\\n\u3053\u306e\u624b\u306e\u30c4\u30fc\u30eb\u3092\u958b\u767a\u3057\u3066\u307f\u3066\u3001\u6539\u3081\u3066\u611f\u3058\u305f\u3053\u3068\u3092\u30dd\u30a8\u30e0\u7684\u306b 2 \u70b9\u66f8\u304d\u7559\u3081\u3066\u304a\u304d\u307e\u3059\u3002\\n\\n### **1. \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u304b\u3089\u66f8\u304d\u59cb\u3081\u308b\u3053\u3068**\\n\\n\u4eca\u56de\u5b9f\u88c5\u3057\u305f\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u3084\u3001API\u30fbSDK \u3068\u3044\u3063\u305f\u3001\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092\u5f62\u6210\u3059\u308b\u305f\u3081\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u95a2\u3057\u3066\u3001\u4e00\u756a\u6ce8\u610f\u3092\u6255\u3046\u3079\u304d\u30dd\u30a4\u30f3\u30c8\u306f\u5916\u90e8\u4ed5\u69d8\u3067\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u7d30\u304b\u306a\u5185\u90e8\u5b9f\u88c5\u4e0a\u306e\u30d0\u30b0\u306a\u3093\u304b\u306f\u90fd\u5ea6\u76f4\u305b\u307e\u3059\u304c\u3001\u5916\u90e8\u4ed5\u69d8\u306f\u4e00\u5ea6\u51fa\u3059\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5f71\u97ff\u304c\u51fa\u308b\u305f\u3081\u3001\u5bb9\u6613\u306b\u5909\u66f4\u3057\u3065\u3089\u3044\u3053\u3068\u304c\u7406\u7531\u3067\u3059\u3002  \\n\u300c\u306a\u306b\u5f53\u305f\u308a\u524d\u306e\u3053\u3068\u3092\u8a00\u3063\u3066\u3044\u308b\u3093\u3060\uff1f\u300d\u3068\u601d\u308f\u308c\u308b\u65b9\u3082\u3044\u3089\u3063\u3057\u3083\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u306a\u304c\u3089\u3001\u4f9d\u5b58\u3059\u308b\u4ed6\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4ed5\u69d8\u3084\u5185\u90e8\u5b9f\u88c5\u4e0a\u306e\u5236\u7d04\u306a\u3069\u306b\u6c17\u304c\u5411\u3044\u3066\u3057\u307e\u3046\u3068\u3001\u305d\u308c\u3089\u306b\u7121\u610f\u8b58\u7684\u306b\u5f15\u304d\u305a\u3089\u308c\u3066\u3057\u307e\u3044\u6700\u7d42\u7684\u306b\u30e6\u30fc\u30b6\u306b\u63d0\u4f9b\u3059\u308b\u5916\u90e8\u4ed5\u69d8\u304c\u304e\u3053\u3061\u306a\u304f\u306a\u308b\u3053\u3068\u3063\u3066\u610f\u5916\u3068\u591a\u304f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\u30ab\u30d7\u30bb\u30eb\u5316\u304c\u4e0d\u5341\u5206\u3067\u4e0d\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6652\u3057\u305f\u308a\u3001\u30ea\u30bd\u30fc\u30b9\u9593\u306b\u4e0d\u8981\u306a\u4f9d\u5b58\u304c\u767a\u751f\u3057\u3066\u3044\u305f\u308a\u3001\u76f4\u89b3\u7684\u3067\u306f\u306a\u3044\u64cd\u4f5c\u3092\u8981\u6c42\u3057\u305f\u308a\u3001\u3001\u3001\u5c11\u306a\u304f\u3068\u3082\u79c1\u306f\u305d\u3046\u3044\u3046\u5931\u6557\u3092\u4f55\u5ea6\u3082\u3057\u307e\u3057\u305f\u3002\u3053\u3046\u3044\u3063\u305f\u554f\u984c\u3092\u8e0f\u3093\u3067\u306f\u3001[C++\u306e\u305f\u3081\u306eAPI\u30c7\u30b6\u30a4\u30f3](https://amzn.to/3GgZt8x) \u306e `\u7b2c2\u7ae0 \u512a\u308c\u305fAPI\u306e\u7279\u5fb4` \u306b\u4e8b\u7d30\u304b\u306b\u66f8\u3044\u3066\u3042\u308b\u539f\u7406\u539f\u5247\u3092\u4f55\u56de\u3082\u8aad\u307f\u8fd4\u3057\u305f\u308a\u3057\u3066\u3044\u307e\u3057\u305f\u3002\\n\\n\u3053\u308c\u307e\u3067\u306e\u7d4c\u9a13\u306e\u4e2d\u306e\u5b66\u3073\u306e\u4e00\u3064\u306b\u3001**\u30b5\u30f3\u30d7\u30eb\u304b\u3089\u66f8\u304d\u59cb\u3081\u308b(\u21d4\u5916\u90e8\u4ed5\u69d8\u3092\u5148\u306b\u7b56\u5b9a\u3059\u308b)** \u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u5e38\u65e5\u9803\u610f\u8b58\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002  \\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u304b\u3089\u66f8\u304d\u59cb\u3081\u308b\u3068\u3001\u5acc\u3067\u3082\u30e6\u30fc\u30b6\u306e\u5229\u4fbf\u6027\u3084\u5f8c\u65b9\u4e92\u63db\u6027\u306e\u8003\u616e\u3092\u6700\u521d\u306b\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u5b9f\u88c5\u4e0a\u306e\u5236\u7d04\u3068\u3044\u3063\u305f\u30ce\u30a4\u30ba\u3092\u6392\u9664\u3057\u3066\u8003\u3048\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4ed5\u69d8\u306e\u3061\u3083\u3076\u53f0\u8fd4\u3057\u304c\u3042\u3063\u3066\u3082\u3001\u5185\u90e8\u5b9f\u88c5\u306b\u7740\u624b\u3059\u308b\u524d\u306a\u3089\u624b\u623b\u308a\u306f\u5c11\u306a\u304f\u3066\u6e08\u307f\u307e\u3059\u3002\u6700\u521d\u306b\u30b5\u30f3\u30d7\u30eb\u3092\u66f8\u3044\u3066\u304a\u3051\u3070\u3001\u5f8c\u3005\u30e6\u30fc\u30b6\u304b\u3089\u300c\u30b5\u30f3\u30d7\u30eb\u304f\u3060\u3055\u3044\u300d\u306a\u3093\u3066\u3053\u3068\u3082\u8a00\u308f\u308c\u307e\u305b\u3093\u3002\u30e1\u30ea\u30c3\u30c8\u306e\u307b\u3046\u304c\u591a\u3044\u306e\u3067\u3059\u3002  \\n\u5916\u90e8\u4ed5\u69d8\u306e\u691c\u8a0e\u306f\u3001\u771f\u9762\u76ee\u306b\u3084\u308b\u3068\u610f\u5916\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\u52d5\u4f5c\u3059\u308b\u30b3\u30fc\u30c9\u3068\u3057\u3066\u306e\u6210\u679c\u7269\u304c\u306a\u304b\u306a\u304b\u51fa\u3066\u3053\u306a\u3044\u5206\u3001\u30d7\u30ed\u30b0\u30e9\u30de\u3068\u3057\u3066\u306f\u7126\u71e5\u611f\u306b\u99c6\u3089\u308c\u3066\u5b9f\u88c5\u306b\u7740\u624b\u3057\u3066\u3057\u307e\u3046\u306e\u3082\u5f80\u3005\u306b\u3057\u3066\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002  \\n\u300c\u610f\u8b58\u3057\u307e\u3057\u3087\u3046\u300d\u3068\u3044\u3046\u52aa\u529b\u76ee\u6a19\u306e\u30eb\u30fc\u30eb\u306f\u5927\u62b5\u6a5f\u80fd\u3057\u306a\u3044\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3001\u5185\u90e8\u5b9f\u88c5\u3092\u59cb\u3081\u308b\u3088\u308a\u524d\u306b API \u306e\u30ec\u30d3\u30e5\u30fc\u3084(\u52d5\u4f5c\u3057\u306a\u3044\u72b6\u614b\u306e)\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u30ec\u30d3\u30e5\u30fc\u3092\u5fc5\u9808\u3068\u3059\u308b\u958b\u767a\u30d5\u30ed\u30fc\u3092\u53d6\u308a\u5165\u308c\u308b\u306e\u3082\u3001\u7d44\u7e54\u306e\u898f\u6a21\u3084\u63d0\u4f9b\u3059\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u7279\u6027\u306b\u3088\u3063\u3066\u306f\u30d5\u30a3\u30c3\u30c8\u3059\u308b\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\\n\\n### **2. \u81ea\u5206\u4ee5\u5916\u306e\u8996\u70b9\u3067\u826f\u3044\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u304f\u308c\u308b\u4eba\u3092\u898b\u3064\u3051\u308b\u3053\u3068**\\n\\n\u500b\u4eba\u958b\u767a\u3092\u3057\u3066\u3044\u308b\u3068\u3001\u76ee\u7dda\u304c\u4e00\u3064\u3060\u3051\u306b\u306a\u308a\u7d50\u679c\u7684\u306b\u826f\u3044\u3082\u306e\u304c\u3067\u304d\u306a\u3044\u306e\u3092\u601d\u3044\u77e5\u308a\u307e\u3057\u305f\u3002\u3042\u308b\u7a0b\u5ea6\u54c1\u8cea\u3084\u65b9\u5411\u6027\u304c\u56fa\u307e\u3063\u305f\u6bb5\u968e\u3067\u3001\u65e9\u671f\u306b\u3067\u304d\u308b\u3060\u3051\u3044\u308d\u3093\u306a\u4eba\u306b dogfooding \u3092\u304a\u9858\u3044\u3057\u3066\u3001\u7387\u76f4\u3067\u30b9\u30c8\u30ec\u30fc\u30c8\u306a\u610f\u898b\u3092\u3082\u3089\u3046\u3053\u3068\u306f\u975e\u5e38\u306b\u5927\u4e8b\u3067\u3042\u308b\u3068\u601d\u3044\u307e\u3057\u305f\u3002  \\n\u7279\u306b\u3001\u77e5\u8b58\u8c4a\u5bcc\u306a\u30d8\u30d3\u30fc\u30e6\u30fc\u30b6\u30fc\u3084\u4e8b\u524d\u77e5\u8b58\u304c\u305d\u3053\u307e\u3067\u306a\u3044\u30e9\u30a4\u30c8\u30e6\u30fc\u30b6\u30fc\u306a\u3069\u3001\u69d8\u3005\u306a\u4eba\u306b\u304a\u9858\u3044\u3059\u308b\u3068\u9762\u767d\u3044\u3067\u3059\u3002\u524d\u8005\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u61f8\u5ff5\u70b9\u3092\u898b\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u307e\u3057\u305f\u3057\u3001\u5f8c\u8005\u306f\u300c\u30b5\u30f3\u30d7\u30eb\u307f\u308c\u3070\u7406\u89e3\u3067\u304d\u308b\u3067\u3057\u3087\uff1f\u300d\u307f\u305f\u3044\u306a\u30de\u30c3\u30c1\u30e7\u306a\u601d\u60f3\u304c\u30a4\u30b1\u3066\u306a\u3044\u3053\u3068\u3092\u6559\u3048\u3066\u304f\u308c\u305f\u308a\u3068\u3001\u4ed6\u8005\u304b\u3089\u306e\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3067\u591a\u304f\u306e\u6c17\u3065\u304d\u3068\u6539\u5584\u304c\u3067\u304d\u307e\u3057\u305f\u3002  \\n\u4eca\u56de\u958b\u767a\u3057\u305f\u30ab\u30b9\u30bf\u30e0\u30d7\u30ed\u30d0\u30a4\u30c0\u3082\u305d\u3046\u3057\u305f\u4eba\u9054\u3068\u306e\u5354\u696d\u3092\u901a\u3057\u3066\u6539\u5584\u3057\u3066\u3044\u3063\u305f\u7d4c\u7def\u3082\u3042\u308a\u307e\u3059\u3002\u6539\u3081\u3066\u3053\u306e\u5834\u3092\u501f\u308a\u3066\u611f\u8b1d\u7533\u3057\u4e0a\u3052\u307e\u3059\u3002\\n\\n(\u5b8c)"}]}')}}]);